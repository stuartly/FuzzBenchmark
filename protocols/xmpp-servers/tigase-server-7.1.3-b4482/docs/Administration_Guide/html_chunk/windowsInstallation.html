<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Windows Installation</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="QuickStart.html" title="Chapter&nbsp;3.&nbsp;Quick Start Guide"><link rel="prev" href="manualinstall.html" title="Manual Installation in Console Mode"><link rel="next" href="setupTigaseServer.html" title="Tigase Server Network Instructions"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Windows Installation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="manualinstall.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;3.&nbsp;Quick Start Guide</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="setupTigaseServer.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="windowsInstallation"></a>Windows Installation</h2></div></div></div><p>Tigase server installation should be started with downloading the Tigase installer server from our <a class="link" href="https://projects.tigase.org/attachments/download/273/tigase-server-3.3.2-b889.exe" target="_top">download area</a>. This guide describes installation procedure for the branch 3.x of the server so please pick up the latest version of the Tigase 3.x.</p><p>The Windows binary package is an executable file containing an installer. Run the file and the server will be installed and icons will be added to your Windows start menu. Locate the Tigase group in your menu and execute: "Install Tigase service" which will install the Tigase server as the system service and it will be automatically started whenever your system starts.</p><p>If you are going to use the Tigase server with MySQL database have a look now in the directory where the Tigase server is installed. There is a directory etc/. Have a look inside and find file called init.properties. Open the file with a text editor and make sure you added there 2 following lines:</p><pre class="programlisting">--user-db=mysql
--user-db-uri=jdbc:mysql://localhost/tigasedb?user=tigase_user&amp;password=mypass</pre><p>The content of the file should look like the example screenshot below:</p><p><span class="inlinemediaobject"><img src="./images/init_properties1.jpg" alt="init_properties1"></span></p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_mysql_database_installation"></a>MySQL Database Installation</h3></div></div></div><p>The section describes installation and configuration of the MySQL database to work with Tigase server.</p><p>Download the binary package from MySQL download area at <a class="link" href="http://dev.mysql.com/downloads/mysql/5.0.html#win32" target="_top">mysql.com</a>. Make sure you select executable proper for your operating system.</p><p>Run the installation program and follow default installation steps. When the installation is complete find the MySQL elements in the Windows Start menu and run the MySQL Configuration Wizard. Follow the wizard and make sure to check settings against the screenshots in the guide below.</p><p>In Welcome window just press 'Next'.(pic.1)</p><p><span class="inlinemediaobject"><img src="./images/sql1.JPG" alt="sql1"></span></p><p>In the next window select option: 'Detailed Configuration' and press 'Next' (pic. 2)</p><p><span class="inlinemediaobject"><img src="./images/sql2.JPG" alt="sql2"></span></p><p>On the next screen select option: 'Server Machine' and press 'Next' (pic. 3)</p><p><span class="inlinemediaobject"><img src="./images/sql3.JPG" alt="sql3"></span></p><p>On the forth windows leave the default" 'Multifunctional Database' and press 'Next' (pic. 4)</p><p><span class="inlinemediaobject"><img src="./images/sql4.JPG" alt="sql4"></span></p><p>On the step number five just press 'Next' using defaults. (pic. 5)</p><p><span class="inlinemediaobject"><img src="./images/sql5.JPG" alt="sql5"></span></p><p>Again, on window 6 select the default - 'Decision Support (DSS)/OLAP' and press 'Next' (pic.6)</p><p><span class="inlinemediaobject"><img src="./images/sql6.JPG" alt="sql6"></span></p><p>Make sure you switch OFF the 'Strict mode' and and press 'Next' (pic. 7)</p><p><span class="inlinemediaobject"><img src="./images/sql7.JPG" alt="sql7"></span></p><p>On the character encoding page select: 'Manual Selected Default Character set/ Collation' and  'utf8', press 'Next' (pic.8)</p><p><span class="inlinemediaobject"><img src="./images/sql8.JPG" alt="sql8"></span></p><p>On next window select 'Include Bin Directory in Windows PATH' and press 'Next' (pic.9)</p><p><span class="inlinemediaobject"><img src="./images/sql9.JPG" alt="sql9"></span></p><p>On this window just enter the database super user password and make sure you remember it. When ready press 'Next' (pic. 10)</p><p><span class="inlinemediaobject"><img src="./images/sql10.JPG" alt="sql10"></span></p><p>This is the last screen. Press 'Execute' to save the configuration parameters. (pic. 11)</p><p><span class="inlinemediaobject"><img src="./images/sql11.JPG" alt="sql11"></span></p><p>When the configuration is saved you can repeat all the steps and change settings at any time by running: <span class="strong"><strong>START &#8658; Programs &#8658; MYSQL&#8658; MYSQL serwer machine&#8658;  MySQL Server Instance Config Wizard</strong></span></p><p>Now we have to setup Tigase database. From the Start menu run the MySQL console and enter all commands below finishing them with <span class="strong"><strong>&lt;ENTER&gt;</strong></span>:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Create the database:</p><pre class="programlisting">mysql&gt;create database tigasedb;</pre></li><li class="listitem"><p class="simpara">Add database user:</p><pre class="programlisting">mysql&gt; GRANT ALL ON tigasedb.* TO tigase_user@'%' IDENTIFIED BY 'tigase_passwd';
mysql&gt; GRANT ALL ON tigasedb.* TO tigase_user@'localhost' IDENTIFIED BY 'tigase_passwd';
mysql&gt; GRANT ALL ON tigasedb.* TO tigase_user IDENTIFIED BY 'tigase_passwd';
mysql&gt; FLUSH PRIVILEGES;</pre></li><li class="listitem"><p class="simpara">Load Tigase database schema:</p><pre class="programlisting">mysql&gt; use tigasedb;
mysql&gt; source c:/Program Files/Tigase/database/mysql-schema.sql;</pre></li></ol></div><p>There is a small configuration bug in the installation of Tigase version 3.x. If you look in the <span class="strong"><strong>run.bat</strong></span> file in the Tigase directory you have to replace string <span class="strong"><strong>inital.propereties</strong></span> with <span class="strong"><strong>init.properties</strong></span>.</p><p>You can now restart your machine and all services including the MySQL database and the Tigase server should be running. Alternatively if you don&#8217;t want to restart your computer you can start both services manually if you know how to do it.</p><p>When the system is up and running you can connect with any XMPP client (Psi for example) to your server to see if it is working.</p><p>Now, you can tweak the server configuration further. Use the guide describing init.properties file for configuration details.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="manualinstall.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="QuickStart.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="setupTigaseServer.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Manual Installation in Console Mode&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Tigase Server Network Instructions</td></tr></table></div></body></html>