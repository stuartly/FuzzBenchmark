<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Installation Using GUI Installer</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="QuickStart.html" title="Chapter&nbsp;3.&nbsp;Quick Start Guide"><link rel="prev" href="_contents.html" title="Contents"><link rel="next" href="webinstall.html" title="Installation Using Web Installer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Installation Using GUI Installer</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_contents.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;3.&nbsp;Quick Start Guide</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="webinstall.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="guiinstall"></a>Installation Using GUI Installer</h2></div></div></div><p>If you don&#8217;t want to install Tigase using a manual method, you can use the GUI installer. It not only copies server files to preferred place, but also assists with configuration of the most important parameters and database setup. Therefore we recommend this as the way to install Tigase.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_prerequisites"></a>Prerequisites</h3></div></div></div><p>Before you can start the GUI installer you will need to have working Java environment. Although installer only requires <span class="strong"><strong>JRE</strong></span> (Java Runtime Environment), server needs the <span class="strong"><strong>JDK</strong></span> (Java Development Kit). Please do note that <span class="strong"><strong>currently minimal JDK version Tigase is capable to run on is 1.6</strong></span>. If you don&#8217;t have JDK installed it is the right moment to do it. Visit the <a class="link" href="http://java.sun.com/javase/downloads/index.jsp" target="_top">Java downloads site</a> From the list of available packages select newest JDK version (if you don&#8217;t have a specific need to use J2EE then choose a package without it). After configuring JDK you can download the Tigase GUI installer and start the server installation process.  It is also important to set the JAVA_HOME environment correctly.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_download_the_installer"></a>Download the Installer</h3></div></div></div><p>You can always find the newest Tigase packages in the <a class="link" href="https://projects.tigase.org/projects/tigase-server/files" target="_top">download section</a>.  When you enter the page, you will be presented a list of files to choose from.  You may be confused at the beginning as there are lot of choices, but all Tigase binary packages have conventional names, which help to differentiate them easily. They are of form <span class="strong"><strong>tigase-server-x.y.z-bv.ext</strong></span> where 'x', 'y', 'z' and 'v' are version numbers and they change from a release to release. Ext is the file extension which in the case of our GUI installation program is <span class="strong"><strong>.jar</strong></span>. We recommend you to download the latest version (highest version number) of the server as it contains latest functions and improvements</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_run_the_jar_file"></a>Run the jar File</h3></div></div></div><p>On most systems installing JRE or JDK creates a default association which allows to run the <span class="strong"><strong>.jar</strong></span> file by just double clicking on it. However if nothing happens when you do it there is a way to do it manually. Perform the steps in the following order:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">If you are on <span class="strong"><strong>Windows</strong></span> system you can use the command prompt to run the installer directly using the java command.</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">Click on the <span class="strong"><strong>Start</strong></span> menu and choose <span class="strong"><strong>Run&#8230;&#8203;</strong></span> (You can also use the <span class="strong"><strong>Win+R</strong></span> shortcut).</li><li class="listitem">You will be presented with a dialog box where you can enter a command. Type "<span class="strong"><strong>cmd</strong></span>" (or "<span class="strong"><strong>command</strong></span>" in the case of windows version older then 2000) and submit the window.
If you are on a <span class="strong"><strong>Linux</strong></span> system, you can use a terminal. It should be easily discoverable as it is a standard tool on this platform. Find and run it.</li></ol></div></li><li class="listitem"><p class="simpara">Command prompt / terminal will appear. You will be able to check a whether your <span class="strong"><strong>Java</strong></span> environment is working. To do it type the</p><pre class="programlisting">java -version</pre><p class="simpara">command and press Enter. If the message says that the command is not recognized then your <span class="strong"><strong>Java</strong></span> installation may be corrupt or not configured properly. For correctly setting up <span class="strong"><strong>JRE/JDK</strong></span> including setting the <span class="strong"><strong>JAVA_HOME</strong></span> environmental variable please check documentation provided on the JDK download site. Also when the command succeeds please check if the printed version number fulfills Tigase requirements. When many versions of <span class="strong"><strong>JDK/JRE</strong></span> are installed on one machine <span class="strong"><strong>java</strong></span> command will need to be invoked with the full path it is placed on.</p></li><li class="listitem"><p class="simpara">When you have no doubt that you can run the correct Java launcher, you may start the installer i.e. for the file <span class="strong"><strong>tigase-server-4.1.0-b1315.jar</strong></span> downloaded to the <span class="strong"><strong>c:\download</strong></span> directory type the following command:</p><pre class="programlisting">java -jar c:\download\tigase-server-4.1.0-b1315.jar</pre><p class="simpara">This command should start the installer or print an error message explaining what is the cause of problem.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_starting_the_installation"></a>Starting the Installation</h3></div></div></div><p>Please note that this tutorial covers only the basic installation mode. Some screens have been omitted because they contain advanced options which are not shown in simple installation mode. Others such as progress of copying files and summary info on the other hand are self explanatory and will also not described.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_jdk_selection"></a>JDK Selection</h3></div></div></div><p><span class="inlinemediaobject"><img src="./images/winInstall2.gif" alt="winInstall2"></span></p><p>This screen is only shown when JDK has not been selected automatically. When your JAVA_HOME path is properly set, it will be auto-detected saving you some configuration time. If you are reading this step and still don&#8217;t have JDK installed, then go back to the <a class="link" href="">prerequisites</a> section where you can find some info on how to prepare your system for Tigase installation. Sometimes your system will be configured in a way that prevents detection of JDK path. This often happens when you install JRE after installing JDK. You will have to find JDK directory yourself.  It is by default installed in the <span class="strong"><strong>Program Files\Java</strong></span> directory of your system drive.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_installation_type_selection"></a>Installation Type Selection</h3></div></div></div><p><span class="inlinemediaobject"><img src="./images/winInstall3.gif" alt="winInstall3"></span></p><p>Recommended practice is to choose both installation and configuration of the server as manual configuration is more complicated, time consuming and error-prone.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_introduction_to_the_server"></a>Introduction To the Server</h3></div></div></div><p><span class="inlinemediaobject"><img src="./images/winInstall4.gif" alt="winInstall4"></span></p><p>This screen shows some information about Tigase which may help you understand what it is and how it can help to take advantage of the <span class="strong"><strong>XMPP</strong></span> protocol. It is important that you read all information&#8217;s appearing on the installer screens, as they contain valuable hints and most recent information.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_choice_of_base_directory"></a>Choice of Base Directory</h3></div></div></div><p><span class="inlinemediaobject"><img src="./images/winInstall6.gif" alt="winInstall6"></span></p><p>This is the point where you choose where do you want you server to be installed. Recommended path should not contain spaces, as it may be reason of some strange path problems. In the case of installation on Windows it should be installed on a short path because there is a limit of path lengths. Also note that on Windows Vista there may be some problems with making the server work while installed in the Program Files directory, related to the working of UAC mechanism, so better don&#8217;t install it there.  If you don&#8217;t want are unsure about where to place the server, you can always leave the default selection.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_packages_selection"></a>Packages selection</h3></div></div></div><p><span class="inlinemediaobject"><img src="./images/winInstall7.gif" alt="winInstall7"></span></p><p>Next important step is package selection. Note that some choices are grayed out and you cannot change them as they are essential. Packages consist of documentation, database drivers, sources of the server and some extras. When you select an item, you will be presented with a short description of it&#8217;s content.</p><p>We recommend that you install documentation. It contains valuable resources which may be very helpful in administration and general use of the server.</p><p>If you have a working database platform that you want to use for storing all important user information in, just select appropriate db drivers.  If you don&#8217;t have a database engine, you can use the included derby database along with also included drivers.</p><p>If you are a developer and you want to be able to check how the server is working or if you want to help with the development, you can install also the included source codes.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_basic_server_configuration"></a>Basic Server Configuration</h3></div></div></div><p><span class="inlinemediaobject"><img src="./images/winInstall13.gif" alt="winInstall13"></span></p><p>On this screen you will find most important basic configuration options. As this guide covers only non-advanced set up - disable the advanced configuration checkbox.</p><p>From here you can select which components will be installed. For most installations the default selection will be most appropriate. You can expand the list to check if any of the other options will better suit your needs.</p><p>It is very important that you enter your domain name correctly here.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">On <span class="strong"><strong>Linux</strong></span> like system you can use the <span class="strong"><strong>hostname</strong></span> command and extract the domain part from the output. If you use the <span class="strong"><strong>-f</strong></span> parameter then you will get the fully qualified domain name.</li><li class="listitem">On <span class="strong"><strong>Windows</strong></span> use the standard <span class="strong"><strong>System</strong></span> control panel applet. You will find your domain (computer name) in the <span class="strong"><strong>Computer name</strong></span> tab.</li></ul></div><p>On the other hand if you want to use Tigase virtual domain support and you have your <span class="strong"><strong>DNS</strong></span> system configured properly, then you can put your virtual domains list here. Just separate them by comma characters. For example if your server is seen from the outside as <span class="strong"><strong>veloci.tigase.org,</strong></span> <span class="strong"><strong>mammoth.tigase.org</strong></span> and <span class="strong"><strong>tigase.org</strong></span> then you can use Tigase instance as if it were three separate instances.  In reality it will be one server, however <span class="strong"><strong>admin@veloci.tigase.org</strong></span> will be a different user then <span class="strong"><strong>admin@tigase.org.</strong></span> This feature allows to use one server to separate user groups, for example ones from different organizations.</p><p>When you have your domain name just enter it in the domain text box. Next parameter will be the JID of server administrator. Standard practice is to use <span class="strong"><strong>admin</strong></span>, however you may choose any name you like. For example for domain <span class="strong"><strong>tigase.org</strong></span> the full admin name would be <span class="strong"><strong>admin@tigase.org.</strong></span> Just stick your chosen name and domain together using the @ character as separator.</p><p>Using this information your XMPP admin will be automatically added to the database, so after installation you can just login into the server without registering admin first manually.</p><p>You should also select a database which will be used for storing user info. Default is the <span class="strong"><strong>Derby</strong></span> database, if you don&#8217;t need anything special just leave it as it is. Just select a new password as the default one is easy for a hacker to guess.</p><p><span class="strong"><strong>Important notice: Tigase installer does not contain the actual databases, only drivers allowing db access. The only exception is Derby database, which is included in JDK. It is automatically configured by installer, in case of other databases you will need to configure them by yourself.</strong></span></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_verification_of_database_connection_and_performing_db_tasks"></a>Verification of Database Connection and Performing DB Tasks</h3></div></div></div><p><span class="inlinemediaobject"><img src="./images/winInstall20.gif" alt="winInstall20"></span></p><p>When you switch to this screen an automatic test of database configuration will be started. It consists of few steps which will be executed in order. After testing connection and configuring schema, admin users will be added.</p><p>What to do if any of the tests will fail?</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">If you decided to use your own database, check if you entered correct password and whether your database is running.</li><li class="listitem">If you use the embedded <span class="strong"><strong>Derby</strong></span> database then probably your problem is more complicated. An error may indicate a bug in the installer. You may report it to one of Tigase developers.</li></ul></div><p>If you cannot go beyond this step after trying to resolve database problems you may try <a class="link" href="manualinstall.html" title="Manual Installation in Console Mode">manual installation</a> mode.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_finishing_installation"></a>Finishing Installation</h3></div></div></div><p>When you perform all those steps altogether with choosing Start Menu location and other basic actions you will be informed that installation process is complete. You can now use your Tigase server. There are some post installation actions you may want to perform. They are briefly presented below.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_running_the_server"></a>Running the Server</h3></div></div></div><p>Part of the installation process is the selection of Tigase base directory. This is where you can find all important server files. The installer will create some configurable shortcuts in the <span class="strong"><strong>Start Menu</strong></span>. You can navigate to the menu and use it to start the server.   To run the server manually:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">On a <span class="strong"><strong>Linux</strong></span> system you may start the server using the <span class="strong"><strong>tigase</strong></span> file found in the <span class="strong"><strong>scripts</strong></span> sub-directory of Tigase server base directory.
You will need to select the type of linux you have, debian, gentoo, mandirva, or redhat, and use the script located in the init.d folder.
In the root server directory type the following command:</li></ul></div><pre class="programlisting">./scripts/{OS}/init.d/tigase start etc/tigase.conf</pre><p>Of course if you have a custom config file then change last command appropriately.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">On a <span class="strong"><strong>Windows</strong></span> platform you can use a <span class="strong"><strong>bat</strong></span> file to run the server. There is a <span class="strong"><strong>run.bat</strong></span> file in the Tigase root directory. Just double click it in <span class="strong"><strong>Explorer</strong></span> or run it from command line to start the server. A window with server log output will pop-up.</li></ul></div><p><span class="inlinemediaobject"><img src="./images/winRun.gif" alt="winRun"></span></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_installation_as_a_service"></a>Installation as a Service</h3></div></div></div><p>On <span class="strong"><strong>Windows</strong></span> you can install Tigase as a service. To do it use the <span class="strong"><strong>InstallTigaseService.bat</strong></span> batch file found also in server root directory.</p><p>In this mode service will be running in background and will be controllable from the <span class="strong"><strong>Services</strong></span> management snapshot. To launch the tool right click on the <span class="strong"><strong>Computer</strong></span> icon on the desktop. Choose the <span class="strong"><strong>Manage</strong></span> action. It will run the <span class="strong"><strong>Computer management</strong></span> graphical configuration program. On the left side choose the <span class="strong"><strong>Services</strong></span> item.  You will be shown with a list of services. Here you can find Tigase service when it will be installed.</p><p>To uninstall Tigase service use the <span class="strong"><strong>UninstallTigaseService.bat</strong></span> file from Tigase server root directory.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_how_to_check_if_the_server_is_running"></a>How to Check if the Server is Running</h3></div></div></div><p>Checking if the server is running is quite easy. Just try to connect to it by using one of the many available <span class="strong"><strong>XMPP</strong></span> clients.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_contents.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="QuickStart.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="webinstall.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Contents&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Installation Using Web Installer</td></tr></table></div></body></html>