<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Installation Using Web Installer</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Administration Guide"><link rel="up" href="QuickStart.html" title="Chapter&nbsp;3.&nbsp;Quick Start Guide"><link rel="prev" href="guiinstall.html" title="Installation Using GUI Installer"><link rel="next" href="consoleinstall.html" title="Installing Using Console Installer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Installation Using Web Installer</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="guiinstall.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;3.&nbsp;Quick Start Guide</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="consoleinstall.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="webinstall"></a>Installation Using Web Installer</h2></div></div></div><p>When Tigase XMPP Server starts up, it looks for the default configuration file: <span class="strong"><strong>etc/init.properties</strong></span>. If this file has not been modified you can run the web installer. Which will step you through the process of configuring Tigase.
If you are installing Tigase in a Windows environment, please see the <a class="link" href="webinstall.html#winWebInstall" title="Windows Instructions for using Web Installer">Windows Installation</a> section.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_download_and_extract"></a>Download and Extract</h3></div></div></div><p>First download Tigase XMPP Server and extract it. You can download the <a class="link" href="https://projects.tigase.org/projects/tigase-server/files" target="_top">official binaries</a>, or the latest and greatest <a class="link" href="http://build.xmpp-test.net/nightlies/dists/" target="_top">nightly builds</a>.</p><pre class="programlisting">$ wget http://build.xmpp-test.net/nightlies/dists/2015-01-12/tigase-server-7.0.0-SNAPSHOT-b3752-dist-max.tar.gz
$ tar -xf tigase-server-7.0.0-SNAPSHOT-b3752-dist-max.tar.gz
$ cd tigase-server-7.0.0-SNAPSHOT-b3752</pre><p>Please do not run as root.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_start_the_server"></a>Start the Server</h3></div></div></div><pre class="programlisting">scripts/tigase.sh start</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_verify_tigase_is_running"></a>Verify Tigase is Running</h3></div></div></div><p>You should see a list of listening ports.</p><pre class="programlisting">$ lsof -i -P
COMMAND   PID   USER   FD   TYPE   DEVICE SIZE/OFF NODE NAME
java    18387 tigase  141u  IPv6 22185825      0t0  TCP *:8080 (LISTEN)
java    18387 tigase  148u  IPv6 22185834      0t0  TCP *:5222 (LISTEN)
java    18387 tigase  149u  IPv6 22185835      0t0  TCP *:5223 (LISTEN)
java    18387 tigase  150u  IPv6 22185836      0t0  TCP *:5290 (LISTEN)
java    18387 tigase  151u  IPv6 22185837      0t0  TCP *:5280 (LISTEN)
java    18387 tigase  152u  IPv6 22185838      0t0  TCP *:5269 (LISTEN)</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="connecttoWebInstall"></a>Connect to the Web Installer</h3></div></div></div><p>Some points before you can connect:</p><p>This setup page is restricted access, however for first setup there is a default account set to setup Tigase:
Username: admin
Password: tigase</p><p>This combination will only be valid once as it will be removed from init.properties file on compleation of setup process.  After this point the setup page will only be accessable using the following:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">JID accounts listed as administrators in --admins line in init.properties</li><li class="listitem">Username and password combinations added to init.properties file manually, or at the last page in this process.</li></ol></div><p>Point your browser to <span class="strong"><strong><a class="link" href="http://localhost:8080/setup/" target="_top">http://localhost:8080/setup/</a></strong></span> unless you are working remotely. Then you can use the domain name, or IP address. I used <a class="link" href="http://tpub.xmpp-test.net:8080/setup/" target="_top">http://tpub.xmpp-test.net:8080/setup/</a> for this guide.</p><p>Enter the username and password above to gain access.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_step_through_the_installation_process"></a>Step Through the Installation Process</h3></div></div></div><p>You will be greeted by the following "About software" page.</p><p><span class="inlinemediaobject"><img src="./images/web-install-01.png" alt="web-install-01"></span></p><p>Read it and then click "Next"</p><p><span class="inlinemediaobject"><img src="./images/web-install-02.png" alt="web-install-02"></span></p><p>Here is some information about our commercial products and licensing. Please read though the agreement, type your name or company and click "Next".</p><p><span class="inlinemediaobject"><img src="./images/web-install-04.png" alt="web-install-04"></span></p><p>This page will look over your default configuration settings, these include the type, Domains you wish to use, and gives you a chance to specify an administrator for the domain.  Also, you will be selecting what type of database Tigase server will be using.</p><p><span class="inlinemediaobject"><img src="./images/web-install-05.png" alt="web-install-05"></span></p><p>The Advanced configuration page. Select what components and configurations you need.</p><p><span class="inlinemediaobject"><img src="./images/web-install-06.png" alt="web-install-06"></span></p><p>Plugins which will be loaded by the server, most plugins are enabled by default.</p><p><span class="inlinemediaobject"><img src="./images/web-install-07.png" alt="web-install-07"></span></p><p>This is where the database schema is installed. <span class="strong"><strong>BE SURE TO SPECIFY SUPER USER ACCOUNT AND PASSWORD</strong></span></p><p><span class="inlinemediaobject"><img src="./images/web-install-08.png" alt="web-install-08"></span></p><p>You should see a page like this after a successful database setup.  This page will reveal any issues with your database setup such as invalid URIs, passwords, and schemas.</p><p><span class="inlinemediaobject"><img src="./images/web-install-09.png" alt="web-install-09"></span></p><p>Next a page asking if you&#8217;d like to provide an API Access Key to access HTTP REST commands.  It is highly recommended that you either specify an API key or block access.  Open API keys allow any REST command to be interpreted by the server.</p><p><span class="inlinemediaobject"><img src="./images/web-install-10.png" alt="web-install-10"></span></p><p>The Setup Access Page will be locked from the admin/tigase user as specified above.  This is your chance to have the setup pages add a specific user in addition to admin accounts to re-access this setup process later.  If left blank, only JIDs listed in admin will be allowed to access.</p><p><span class="inlinemediaobject"><img src="./images/web-install-11.png" alt="web-install-11"></span></p><p>The installation is complete and this is what the <span class="strong"><strong>init.properties</strong></span> file will look like.
If you have a custom setup, or would like to put your own settings in, you may copy and past the contents here to edit the current init.properties file.
Click "Save" to write the file to disk.</p><p><span class="inlinemediaobject"><img src="./images/web-install-12.png" alt="web-install-12"></span></p><p>You have now finished the installation, proceed to the next step to restart the server.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_restart_the_server"></a>Restart the Server</h3></div></div></div><p>It is recommended at this point to stop the server manually and restart it using the proper script for your OS.
From the Tigase base directory enter</p><pre class="programlisting">./scripts/tigase.sh stop

./scripts/{OS}/init.d/tigase start etc/tigase.conf</pre><p>where {OS} is your type of Linux, gentoo, debian, mandriva, or redhat</p><p>To further fine tune the server you should edit etc/tigase.conf. Ensure <span class="strong"><strong>JAVA_HOME</strong></span> path is correct, and increase memory if needed using <span class="strong"><strong>JAVA_OPTIONS</strong></span> -Xmx (max), and -Xms (initial). You will need to direct Tigase to read settings from this file on startup as follows.</p><p>Everything should be running smooth at this point. Check the logfiles in logs/ if you experience any problems.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="winWebInstall"></a>Windows Instructions for using Web Installer</h3></div></div></div><p>There are a few steps involved with setting up Tigase with the web installer in a Windows environment.  Please follow this guide.</p><p>First step is to extract the dist-max archive in it&#8217;s entirety to the intended running directory.  Once there, run the Setup.bat file inside the win-stuff folder.  This will move the necessary files to the correct folders before Tigase begins operation.</p><p>From here, you have a few options how to run Tigase; run.bat will operate Tigase using a java command, or run.bat which will start Tigase using the wrapper.  You may also install Tigase and run it as a service.</p><p>One this setup is finished, web installer will continue the same from <a class="link" href="webinstall.html#connecttoWebInstall" title="Connect to the Web Installer">here</a>.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="guiinstall.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="QuickStart.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="consoleinstall.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Installation Using GUI Installer&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Installing Using Console Installer</td></tr></table></div></body></html>