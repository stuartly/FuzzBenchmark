<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;49.&nbsp;--stats-archiv</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Properties Guide"><link rel="up" href="index.html" title="Tigase Properties Guide"><link rel="prev" href="sslDefCertDomain.html" title="Chapter&nbsp;48.&nbsp;--ssl-def-cert-domain"><link rel="next" href="statsHistory.html" title="Chapter&nbsp;50.&nbsp;--stats-history"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;49.&nbsp;--stats-archiv</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sslDefCertDomain.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="statsHistory.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="statsArchiv"></a>Chapter&nbsp;49.&nbsp;--stats-archiv</h1></div></div></div><p><span class="strong"><strong>Default value:</strong></span> 'By default, --stats-archiv is not listed in the init.properties file'</p><p><span class="strong"><strong>Example:</strong></span> --stats-archiv=tigase.stats.CounterDataFileLogger:stats-file-logger:60,tigase.stats.CounterDataLogger:stats-logger:60</p><p><span class="strong"><strong>Possible values:</strong></span> 'comma separated list of statistics archivers:' &lt;class&gt;:&lt;name&gt;:&lt;frequency&gt;</p><p><span class="strong"><strong>Description:</strong></span> --stats-archiv configuration property allow enabling and configuring components responsible for storing statistic information. As a parameter, it takes comma separated list of all archivers that we want to enable. Each entry follows same pattern: &lt;class&gt;:&lt;name&gt;:&lt;frequency&gt;, where:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">&lt;class&gt; - is the class of any archiver implementing tigase.stats.StatisticsArchivizerIfc interface</li><li class="listitem">&lt;name&gt; - is the name of particular archiver under which it will be identified in Tigase</li><li class="listitem">&lt;frequency&gt; - is the time interval between subsequent execution of the archiver .execute() method (in seconds).</li></ul></div><p>Currently following archivers classes are available:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">tigase.stats.CounterDataArchivizer - every execution put current basic server metrics (CPU usage, memory usage, number of user connections, uptime) into database (overwrites previous entry);</li><li class="listitem">tigase.stats.CounterDataLogger - every execution insert new row with new set of number of server statistics (CPU usage, memory usage, number of user connections per connector, number of processed packets of different types, uptime, etc) into the database</li><li class="listitem">tigase.stats.CounterDataFileLogger - every execution store all server statistics into separate file.</li></ul></div><p>It&#8217;s possible to configure each archiver by adding following entry to the etc/init.properties file:</p><pre class="programlisting">&lt;statistics_component_name&gt;/stats-archiv/&lt;name&gt;/&lt;property&gt;=&lt;value&gt;</pre><p>For example, if we want to enable CounterDataFileLogger that stores statistics every 60 seconds:</p><pre class="programlisting">--stats-archiv=tigase.stats.CounterDataFileLogger:stats-file-logger:60</pre><p>We can configure it further with following options:</p><pre class="programlisting">stats/stats-archiv/stats-file-logger/stats-directory=logs/server_statistics
stats/stats-archiv/stats-file-logger/stats-filename=stat
stats/stats-archiv/stats-file-logger/stats-unixtime=false
stats/stats-archiv/stats-file-logger/stats-datetime=true
stats/stats-archiv/stats-file-logger/stats-datetime-format=HH:mm:ss
stats/stats-archiv/stats-file-logger/stats-level=FINE</pre><p>which configures accordingly: directory to which files should be saved, filename prefix, whether to include or not unix timestamp in filename, whether to include or not datetime timestamp, control format of timestamp (using java DateFormat pattern) and also set level of the statistics we want to save (using java Logger.Level)</p><p><span class="strong"><strong>Available since:</strong></span> 5.2.0</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sslDefCertDomain.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="statsHistory.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;48.&nbsp;--ssl-def-cert-domain&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;50.&nbsp;--stats-history</td></tr></table></div></body></html>