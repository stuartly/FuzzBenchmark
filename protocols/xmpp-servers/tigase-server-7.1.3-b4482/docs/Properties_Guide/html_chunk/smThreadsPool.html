<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;45.&nbsp;--sm-threads-pool</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Properties Guide"><link rel="up" href="index.html" title="Tigase Properties Guide"><link rel="prev" href="smPlugins.html" title="Chapter&nbsp;44.&nbsp;--sm-plugins"><link rel="next" href="sslCertsLocation.html" title="Chapter&nbsp;46.&nbsp;--ssl-certs-location"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;45.&nbsp;--sm-threads-pool</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="smPlugins.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="sslCertsLocation.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="smThreadsPool"></a>Chapter&nbsp;45.&nbsp;--sm-threads-pool</h1></div></div></div><p><span class="strong"><strong>Default value:</strong></span> default</p><p><span class="strong"><strong>Example:</strong></span> --sm-threads-pool = custom:100</p><p><span class="strong"><strong>Possible values:</strong></span> default|custom:NN</p><p><span class="strong"><strong>Description:</strong></span> The --sm-threads-pool property allows you to fine-tune the SM plugin&#8217;s (processors) thread pool. With the default settings every plugin gets his own thread pool. This guarantees the best performance and optimal resource usage. The downside of this setting is that packets can arrive out of order if they are processed within different thread pools.</p><p>If you really need or want to preserve the order for packets processed by different plugins then the solution is to use the 'custom' thread pool. In this case packets processed by all plugins are handled within a single thread pool. This guarantees that the packets are processed and delivered in the exact order they arrive. The number after the colon ':' specifies the thread pool size.</p><p>We can even fine tune this packet processing. Let&#8217;s say you want most of the plugins to be executed within a single thread pool to preserve packet ordering for them, but for some selected plugins that should execute within separate thread pools to improve performance.  Let&#8217;s say, authentication packets and user registration can be actually executed in a separate thread pools as we do not worry about an order for them. Users cannot send or receive anything else before they authenticates anyway. The solution is to specify a number of threads for the selected plugins in the --sm-plugins property as described above. For example, setting a common thread pool for all plugins but registration and authentication can be done with following configuration:</p><pre class="programlisting">--sm-threads-pool=custom:100
--sm-plugins=jabber:iq:register=8,jabber:iq:auth=16,urn:ietf:params:xml:ns:xmpp-sasl=16</pre><p>Available since: 5.1.0</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="smPlugins.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="sslCertsLocation.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;44.&nbsp;--sm-plugins&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;46.&nbsp;--ssl-certs-location</td></tr></table></div></body></html>