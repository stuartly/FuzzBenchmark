<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Test Suite Scripting Language</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Development Guide"><link rel="up" href="tests.html" title="Chapter&nbsp;7.&nbsp;Tests"><link rel="prev" href="testSuite.html" title="Tigase Test Suite"><link rel="next" href="writingTests.html" title="Writing Tests for Plugins"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Test Suite Scripting Language</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="testSuite.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;7.&nbsp;Tests</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="writingTests.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="testSuideScripts"></a>Test Suite Scripting Language</h2></div></div></div><p>The test suite contains scripting language which allows you to combine test cases into a test scenarios. On the lowest level, however the language is designed to allow you to describe the test by setting test parameters, test comments, identification and so on.</p><p>Let&#8217;s look at the example test description.</p><pre class="programlisting">Short name@test-id-1;test-id-2: Short description for the test case
{
 -loop = 10
 -user-name = Frank
 # This is a comment which is ignored
}
&gt;&gt; Long, detailed description of the test case &lt;&lt;</pre><p>Meaning of all elements:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><span class="strong"><strong>Short name</strong></span> is any descriptive name you want. It doesn&#8217;t need to be unique, just something which tells you what this test is about. @ is a separator between the short name and the test ids.</li><li class="listitem"><span class="strong"><strong>test-id-1;test-id-2</strong></span> is a semicolon separated of the test cases IDs. The tests cases are executed in the listed order. And listing them there means that the test-id-2 depends on test-id-1. Normally you don&#8217;t have to list all the dependencies because all mandatory dependencies are included automatically. Which means if you have an authentication test case the suite adds the network socket connection and stream opening tests automatically. Sometimes however, there are dependencies which are optional or multiple mandatory dependencies and you need to select which one has to be executed. As a good example is the authentications test case. There are many authentication tests: PLAIN-AUTH, SASL-DIGESTMD5, SASL-PLAIN, DIGEST-AUTH and they are all mandatory for most of other tests like roster, presence and so on. One of the authentication tests is a default dependency but if you put on the list different authentication it will be used instead of default one.</li><li class="listitem"><span class="strong"><strong>:</strong></span> is a separator between test cases ids list and the short test description.</li><li class="listitem"><span class="strong"><strong>Short test description</strong></span> is placed between : - colon and opening <span class="strong"><strong>{</strong></span> - curly bracket. This is usually quite brief, single line test description.</li><li class="listitem"><span class="strong"><strong>{  }</strong></span> curly brackets contain all the test parameters, like how many times the test has to be executed or run the test in a separate thread, user name, host IP address for the network connection and many others.</li><li class="listitem"><span class="strong"><strong>&gt;&gt;  &lt;&lt;</strong></span> inside the double greater than and double less than you put a very long, multiple line test description.</li></ol></div><p>As for the testing script between open curly brackets { and close one } you can put all the test case parameters you wish. The format for it is:</p><p><span class="strong"><strong>-parameter-name = value</strong></span></p><p>Parameter names always start with <span class="strong"><strong>-</strong></span>. Note, some parameters don&#8217;t require any value. They can exist on their own without any value assigned:</p><p><span class="strong"><strong>-debug-on-error</strong></span></p><p>This imitates if you were to put <span class="strong"><strong>yes</strong></span> or <span class="strong"><strong>true</strong></span> as the value.</p><p>The scripting language includes also support for variables which can be assigned any value and used multiple times later on. You assign a value to the variable the same way as you assign it to the parameter:</p><p><span class="strong"><strong>$(variable-name) = value</strong></span></p><p>The variable name must be always enclosed with brackets <span class="strong"><strong>()</strong></span> and start with <span class="strong"><strong>$</strong></span>.</p><p>The value may be enclosed within double quotes <span class="strong"><strong>""</strong></span> or double quotes may be omitted. If this is a simple string like a number or character string consisting only of digits, letters, underscore <span class="strong"><strong>_</strong></span> and hyphen <span class="strong"><strong>-</strong></span> then you can omit double quotes otherwise you must enclose the value.</p><p>The test case descriptions can be nested inside other test case descriptions. Nested test case descriptions inherit parameters and variables from outer test case description.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="testSuite.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="tests.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="writingTests.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Tigase Test Suite&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Writing Tests for Plugins</td></tr></table></div></body></html>