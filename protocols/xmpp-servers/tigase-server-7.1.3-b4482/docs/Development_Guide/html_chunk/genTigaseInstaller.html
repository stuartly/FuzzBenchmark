<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;12.&nbsp;Generating Tigase Installer</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Development Guide"><link rel="up" href="index.html" title="Tigase Development Guide"><link rel="prev" href="whyRecentJDK.html" title="Chapter&nbsp;11.&nbsp;Why the most recent JDK?"><link rel="next" href="apiVirtualDomain.html" title="Chapter&nbsp;13.&nbsp;API Description for Virtual Domains Management in the Tigase Server"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;12.&nbsp;Generating Tigase Installer</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="whyRecentJDK.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="apiVirtualDomain.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="genTigaseInstaller"></a>Chapter&nbsp;12.&nbsp;Generating Tigase Installer</h1></div></div></div><p>To generate installer:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Install chosen version of <a class="link" href="http://izpack.org/" target="_top">IzPack</a> including source code.</li><li class="listitem">In order to compile custom Tigase panels you need to first compile <a class="link" href="http://izpack.org/" target="_top">IzPack</a> classes. You can use the included <code class="literal">build.xml</code> which is in the src directory of <a class="link" href="http://izpack.org/" target="_top">IzPack</a> install. Just enter this dir and type:</li></ol></div><pre class="programlisting">ant all</pre><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Depending on the IzPack version classes will be compiled directly into the <code class="literal">src/lib</code> directory or <code class="literal">_build</code> directory of <a class="link" href="http://izpack.org/" target="_top">IzPack</a>. You may need to tweak the <code class="literal">build.xml</code> file which is in the same dir as the <code class="literal">readme</code> and point to the directory where <a class="link" href="http://izpack.org/" target="_top">IzPack</a> compiled classes reside.</li></ol></div><pre class="programlisting">&lt;!-- fragment --&gt;
&lt;classpath&gt;
  &lt;pathelement location="java"/&gt;

  &lt;!-- tweak below fragment --&gt;
  &lt;pathelement location="${installer.path}/_build"/&gt;

  &lt;pathelement location="${installer.path}/bin/panels/TargetPanel.jar"/&gt;
&lt;/classpath&gt;</pre><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Make sure that the bin/panels directory of <a class="link" href="http://izpack.org/" target="_top">IzPack</a> is writable by <code class="literal">generate-installer.sh</code> script. Compiled custom panels will be placed here before running installer compiler.</li><li class="listitem"><p class="simpara">Modify the <code class="literal">script/generate-installer.sh</code>. Change the <code class="literal">IZPACK_DIR</code> variable to point to the <a class="link" href="http://izpack.org/" target="_top">IzPack</a> instalation directory e.g.</p><pre class="programlisting">IZPACK_DIR="/usr/local/IzPack421"</pre></li><li class="listitem">To start the installation process run the <code class="literal">scripts/generate-installer.sh</code> file you will find in the main server source code directory. You should start it from the server root dir.</li><li class="listitem">Generated files (jar and exe) will be placed in the packages dir of Tigase codebase.</li></ol></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="whyRecentJDK.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="apiVirtualDomain.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;11.&nbsp;Why the most recent JDK?&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;13.&nbsp;API Description for Virtual Domains Management in the Tigase Server</td></tr></table></div></body></html>