<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;6.&nbsp;Using Maven</title><link rel="stylesheet" type="text/css" href="css/docbook-xsl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Tigase Development Guide"><link rel="up" href="index.html" title="Tigase Development Guide"><link rel="prev" href="saslcmac.html" title="SASL Custom Mechanisms and Configuration"><link rel="next" href="mavenguide.html" title="A Very Short Maven Guide"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;6.&nbsp;Using Maven</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="saslcmac.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="mavenguide.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="usingmaven"></a>Chapter&nbsp;6.&nbsp;Using Maven</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="usingmaven.html#_setting_up_maven_in_windows">Setting up Maven in Windows</a></span></dt><dd><dl><dt><span class="section"><a href="usingmaven.html#_requirements_3">Requirements</a></span></dt><dt><span class="section"><a href="usingmaven.html#_setting_up_environment_variables">Setting up Environment Variables</a></span></dt><dt><span class="section"><a href="usingmaven.html#_testing_maven">Testing Maven</a></span></dt></dl></dd><dt><span class="section"><a href="mavenguide.html">A Very Short Maven Guide</a></span></dt><dd><dl><dt><span class="section"><a href="mavenguide.html#_snapshot_compilation_and_snapshot_package_generation">Snapshot Compilation and Snapshot Package Generation</a></span></dt><dt><span class="section"><a href="mavenguide.html#_release_compilation_generation">Release Compilation, Generation</a></span></dt><dt><span class="section"><a href="mavenguide.html#_generating_tar_gz_tar_bz2_file_with_sources_only">Generating tar.gz, tar.bz2 File With Sources Only</a></span></dt></dl></dd><dt><span class="section"><a href="maven2support.html">Maven 2.x Support</a></span></dt></dl></div><p>Documents Describing Maven Use with the Tigase Projects</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_setting_up_maven_in_windows"></a>Setting up Maven in Windows</h2></div></div></div><p>Here at Tigase, we employ Apache Maven to download latest builds, compile codes for export, and check for errors in the code during build.  This guide will go over installing and running Maven from a Windows operating environment.  We will consider windows versions 7, 8, and 8.1 for this guide.
Because Maven does not come with an installer, there is a manual install process which might be a bit daunting for the new user, but setup and use is fairly simple.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_requirements_3"></a>Requirements</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Maven requires Java Development Kit (JDK) 6 or later.  As Tigase requires the latest JDK to run, that will do for our purposes.  If you haven&#8217;t installed it yet, download the installer from <a class="link" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_top">this website</a>. Once you install JDK and restart your machine, be sure that you have the <span class="strong"><strong>JAVA_HOME</strong></span> variable entered into Environment Variables so calls to Java will work from the command line.</li><li class="listitem">Download the Maven package from <a class="link" href="https://maven.apache.org/download.cgi" target="_top">here</a> and unpack it into a directory of your choice.  For this guide we will use <code class="literal">C:\Maven\</code> .</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_setting_up_environment_variables"></a>Setting up Environment Variables</h3></div></div></div><p>The Environment Variables panel is brought up from the Control Panel by clicking <span class="strong"><strong>System and Security</strong></span> &gt; <span class="strong"><strong>System</strong></span> &gt; <span class="strong"><strong>Advanced System Settings</strong></span>.
Now click the <span class="inlinemediaobject"><img src="./images/Env-button.jpg" alt="Environment Variables"></span> button at the bottom of the panel and the Environment Variables panel will show.</p><p><span class="strong"><strong>IMPORTANT NOTICE: CHANGING THESE SETTINGS CAN BREAK OTHER FUNCTIONS IN THE OPERATING SYSTEM.  DO NOT FOLLOW THIS GUIDE IF YOU DO NOT KNOW WHAT YOU ARE DOING!</strong></span></p><div class="informalfigure"><div class="mediaobject"><img src="./images/Env-Panel.jpg" alt="Env Panel"></div></div><p>We need to first add two variable paths to the System variables to account for Maven&#8217;s install location.  As there are some programs that look for M2_HOME, and others that look for MAVEN_HOME, it&#8217;s easier to just add both and have all the bases covered.</p><p>Click on New&#8230;&#8203;</p><div class="informalfigure"><div class="mediaobject"><img src="./images/Env-New.jpg" alt="Env New"></div></div><p>For the Name, use M2_HOME, and for the variable enter the path to maven, which in this case is</p><pre class="screen">C:\Maven</pre><p>Create another new variable with the MAVEN_HOME name and add the same directory.
<span class="strong"><strong>These variable values just point to where you have unpacked maven, so they do not have to be in the C directory.</strong></span></p><p>Go down to the system variables dialog and select Path, then click on Edit.
The Path variables are separated by semicolons, find the end of the Variable value string, and add the following after the last entry:</p><pre class="screen">;%M2_HOME%\bin;%MAVEN_HOME%\bin;</pre><p>We have added two variables using the %% wildcards surrounding our Variable names from earlier.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_testing_maven"></a>Testing Maven</h3></div></div></div><p>Now we must test the command line to be sure everything installed correctly.
Bring up the command line either by typing <code class="literal">cmd</code> in search, or navigating the start menu.</p><p>From the prompt, you do not need to change directory as setting Path allows you to reference it.
Type the following command:
<code class="literal">mvn -v</code></p><p>something like this should show up</p><pre class="screen">Apache Maven 3.3.3 (7994120775791599e205a5524ec3e0dfe41d4a06; 2015-04-22T04:57:3
7-07:00)
Maven home: C:\Maven
Java version: 1.8.0_45, vendor: Oracle Corporation
Java home: C:\Program Files\Java\jdk1.8.0_45\jre
Default locale: en_US, platform encoding: Cp1252
OS name: "windows 7", version: "6.1", arch: "amd64", family: "dos"</pre><p>If you see this message, success!  You have finished installation and are ready to use Maven!  If not, go back on your settings and insure that JDK is installed, and the JAVA_HOME, M2_HOME, and MAVEN_HOME variables are set properly.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="saslcmac.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="mavenguide.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">SASL Custom Mechanisms and Configuration&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;A Very Short Maven Guide</td></tr></table></div></body></html>