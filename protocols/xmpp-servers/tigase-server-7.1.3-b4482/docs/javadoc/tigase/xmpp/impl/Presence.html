<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (1.8.0_141) on Wed Jan 31 16:38:28 CLST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Presence (Tigase XMPP Server 7.1.3 API)</title>
<meta name="date" content="2018-01-31">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Presence (Tigase XMPP Server 7.1.3 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":10,"i4":10,"i5":10,"i6":9,"i7":9,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":9,"i23":9,"i24":10,"i25":9,"i26":9,"i27":9,"i28":10,"i29":10,"i30":10,"i31":10,"i32":9,"i33":9,"i34":9,"i35":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Presence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../tigase/xmpp/impl/PepPlugin.html" title="class in tigase.xmpp.impl"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../tigase/xmpp/impl/Presence.ExtendedPresenceProcessorIfc.html" title="interface in tigase.xmpp.impl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?tigase/xmpp/impl/Presence.html" target="_top">Frames</a></li>
<li><a href="Presence.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">tigase.xmpp.impl</div>
<h2 title="Class Presence" class="title">Class Presence</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../tigase/xmpp/XMPPProcessor.html" title="class in tigase.xmpp">tigase.xmpp.XMPPProcessor</a></li>
<li>
<ul class="inheritance">
<li>tigase.xmpp.impl.Presence</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&lt;<a href="../../../tigase/xmpp/XMPPImplIfc.html" title="interface in tigase.xmpp">XMPPImplIfc</a>&gt;, <a href="../../../tigase/xmpp/XMPPImplIfc.html" title="interface in tigase.xmpp">XMPPImplIfc</a>, <a href="../../../tigase/xmpp/XMPPProcessorIfc.html" title="interface in tigase.xmpp">XMPPProcessorIfc</a>, <a href="../../../tigase/xmpp/XMPPStopListenerIfc.html" title="interface in tigase.xmpp">XMPPStopListenerIfc</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Presence</span>
extends <a href="../../../tigase/xmpp/XMPPProcessor.html" title="class in tigase.xmpp">XMPPProcessor</a>
implements <a href="../../../tigase/xmpp/XMPPProcessorIfc.html" title="interface in tigase.xmpp">XMPPProcessorIfc</a>, <a href="../../../tigase/xmpp/XMPPStopListenerIfc.html" title="interface in tigase.xmpp">XMPPStopListenerIfc</a></pre>
<div class="block">Class responsible for handling Presence packets - deprecated
 Use PresenceState and PresenceSubscription classes</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="mailto:artur.hefczyc@tigase.org">Artur Hefczyc</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.ExtendedPresenceProcessorIfc.html" title="interface in tigase.xmpp.impl">Presence.ExtendedPresenceProcessorIfc</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#AUTO_AUTHORIZE_PROP_KEY">AUTO_AUTHORIZE_PROP_KEY</a></span></code>
<div class="block">key allowing enabling automatic authorisation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#DIRECT_PRESENCE">DIRECT_PRESENCE</a></span></code>
<div class="block"><code>DIRECT_PRESENCE</code> is a key in temporary session data for the
 collection of JIDs where direct presence was sent.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#DISABLE_ROSTER_LAZY_LOADING_KEY">DISABLE_ROSTER_LAZY_LOADING_KEY</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#EXTENDED_PRESENCE_PROCESSORS_KEY">EXTENDED_PRESENCE_PROCESSORS_KEY</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#OFFLINE_BUD_SENT">OFFLINE_BUD_SENT</a></span></code>
<div class="block">Field description</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#OFFLINE_RES_SENT">OFFLINE_RES_SENT</a></span></code>
<div class="block">Field description</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#OFFLINE_ROSTER_LAST_SEEN_PROP_KEY">OFFLINE_ROSTER_LAST_SEEN_PROP_KEY</a></span></code>
<div class="block">Field description</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#PRESENCE_ELEMENT_NAME">PRESENCE_ELEMENT_NAME</a></span></code>
<div class="block">Field description</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#PRESENCE_GLOBAL_FORWARD">PRESENCE_GLOBAL_FORWARD</a></span></code>
<div class="block">key allowing setting global forwarding JID address.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster">RosterAbstract</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#roster_util">roster_util</a></span></code>
<div class="block">Field description</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#SKIP_OFFLINE_PROP_KEY">SKIP_OFFLINE_PROP_KEY</a></span></code>
<div class="block">Field description</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#SKIP_OFFLINE_SYS_PROP_KEY">SKIP_OFFLINE_SYS_PROP_KEY</a></span></code>
<div class="block">Field description</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#USERS_STATUS_CHANGES">USERS_STATUS_CHANGES</a></span></code>
<div class="block">Field description</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#XMLNS">XMLNS</a></span></code>
<div class="block">Field description</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.tigase.xmpp.XMPPProcessor">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;tigase.xmpp.<a href="../../../tigase/xmpp/XMPPProcessor.html" title="class in tigase.xmpp">XMPPProcessor</a></h3>
<code><a href="../../../tigase/xmpp/XMPPProcessor.html#ALL_NAMES">ALL_NAMES</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#ALL_PATHS">ALL_PATHS</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#cmpInfo">cmpInfo</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.tigase.xmpp.XMPPImplIfc">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;tigase.xmpp.<a href="../../../tigase/xmpp/XMPPImplIfc.html" title="interface in tigase.xmpp">XMPPImplIfc</a></h3>
<code><a href="../../../tigase/xmpp/XMPPImplIfc.html#CLIENT_XMLNS">CLIENT_XMLNS</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#Presence--">Presence</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#addDirectPresenceJID-tigase.xmpp.JID-tigase.xmpp.XMPPResourceConnection-">addDirectPresenceJID</a></span>(<a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;jid,
                    <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session)</code>
<div class="block">Add JID to collection of JIDs to which direct presence was sent.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#broadcastDirectPresences-tigase.xmpp.StanzaType-tigase.xmpp.XMPPResourceConnection-java.util.Queue-tigase.xml.Element-">broadcastDirectPresences</a></span>(<a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp">StanzaType</a>&nbsp;t,
                        <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                        <a href="../../../tigase/xml/Element.html" title="class in tigase.xml">Element</a>&nbsp;pres)</code>
<div class="block"><code>broadcastDirectPresences</code> broadcast a direct Presence from provided
 <code>pres</code> <a href="../../../tigase/xml/Element.html" title="class in tigase.xml"><code>Element</code></a> object to the collection of JIDs stored in
 temporary session data under key <code>DIRECT_PRESENCE</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#broadcastOffline-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract-">broadcastOffline</a></span>(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster">RosterAbstract</a>&nbsp;roster_util)</code>
<div class="block"><code>sendPresenceBroadcast</code> method broadcasts given presence to all
 buddies from roster and to all users to which direct presence was sent.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#broadcastProbe-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-">broadcastProbe</a></span>(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings)</code>
<div class="block"><code>sendPresenceBroadcast</code> method broadcasts given presence to all
 buddies from roster and to all users to which direct presence was sent.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#buddyOnline-tigase.xmpp.XMPPResourceConnection-tigase.xmpp.JID-java.util.Queue-boolean-">buddyOnline</a></span>(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
           <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;buddy,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
           boolean&nbsp;online)</code>
<div class="block">Method sends back presence to contact while it becomes online (i.e. during
 processing of incoming initial presence of the contact/buddy)</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#concurrentQueuesNo--">concurrentQueuesNo</a></span>()</code>
<div class="block">Methods returns a preferable number of threads/packets queues for the plugin.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#forwardPresence-java.util.Queue-tigase.server.Packet-tigase.xmpp.JID-">forwardPresence</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
               <a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
               <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;from)</code>
<div class="block">Simply forwards packet to the destination</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected static <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster">RosterAbstract</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#getRosterUtil--">getRosterUtil</a></span>()</code>
<div class="block">Returns shared instance of class implementing <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster"><code>RosterAbstract</code></a> -
 either default one (<a href="../../../tigase/xmpp/impl/roster/RosterFlat.html" title="class in tigase.xmpp.impl.roster"><code>RosterFlat</code></a>) or the one configured with
 <em>"roster-implementation"</em> property.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#getStatistics-tigase.stats.StatisticsList-">getStatistics</a></span>(<a href="../../../tigase/stats/StatisticsList.html" title="class in tigase.stats">StatisticsList</a>&nbsp;list)</code>
<div class="block">The method allows to retrieve plugin own statistics if it generates any.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#id--">id</a></span>()</code>
<div class="block">Method <code>id</code> returns a unique ID of the plugin.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#init-java.util.Map-">init</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings)</code>
<div class="block">Method <code>init</code> is called just after the plugin has been loaded
 into memory.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#process-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-tigase.db.NonAuthUserRepository-java.util.Queue-java.util.Map-">process</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
       <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
       <a href="../../../tigase/db/NonAuthUserRepository.html" title="interface in tigase.db">NonAuthUserRepository</a>&nbsp;repo,
       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings)</code>
<div class="block">

 <br><br>

 Performs processing of <em>presence</em> packets and calls different
 methods for particular <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster"><code>RosterAbstract.PresenceType</code></a></div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#processError-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">processError</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
            <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
            <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;presenceType)</code>
<div class="block">Process presence stanza of type Error.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#processInInitial-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">processInInitial</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;presenceType)</code>
<div class="block">Method is responsible for processing incoming initial presence (i.e. in the
 receivers session manager).</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#processInProbe-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">processInProbe</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
              <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
              <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;presenceType)</code>
<div class="block">Method is responsible for processing incoming presence probe (i.e. in the
 receivers session manager).</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#processInSubscribe-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">processInSubscribe</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                  <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                  <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                  <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                  <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)</code>
<div class="block">Method is responsible for processing incoming subscription request (i.e. in
 the receivers session manager).</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#processInSubscribed-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">processInSubscribed</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                   <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                   <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)</code>
<div class="block">Method is responsible for processing incoming subscribed presence (i.e. in
 the receivers session manager).</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#processInUnsubscribe-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">processInUnsubscribe</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                    <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                    <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)</code>
<div class="block">Method is responsible for processing incoming unsubscribe presence (i.e. in
 the receivers session manager).</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#processInUnsubscribed-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">processInUnsubscribed</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                     <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                     <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)</code>
<div class="block">Method is responsible for processing incoming unsubscribed presence (i.e.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#processOutInitial-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">processOutInitial</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                 <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                 <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;type)</code>
<div class="block">Method is responsible for processing outgoing initial presence (i.e. in the
 sender session manager).</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#processOutSubscribe-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">processOutSubscribe</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                   <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                   <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)</code>
<div class="block">Method is responsible for processing outgoing subscribe and unsubscribe
 presence (i.e. in the sender session manager).</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#processOutSubscribed-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">processOutSubscribed</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                    <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                    <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)</code>
<div class="block">Method is responsible for processing outgoing subscribed and unsubscribed
 presence (i.e. in the sender session manager).</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#rebroadcastPresence-tigase.xmpp.XMPPResourceConnection-java.util.Queue-">rebroadcastPresence</a></span>(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results)</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#removeDirectPresenceJID-tigase.xmpp.JID-tigase.xmpp.XMPPResourceConnection-">removeDirectPresenceJID</a></span>(<a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;jid,
                       <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session)</code>
<div class="block">Remove JID from collection of JIDs to which direct presence was sent.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#resendPendingInRequests-tigase.xmpp.XMPPResourceConnection-java.util.Queue-">resendPendingInRequests</a></span>(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results)</code>
<div class="block">Sends out all pending subscription request during user log-in.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#sendPresence-tigase.xmpp.StanzaType-tigase.xmpp.BareJID-tigase.xmpp.BareJID-java.util.Queue-tigase.xml.Element-">sendPresence</a></span>(<a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp">StanzaType</a>&nbsp;t,
            <a href="../../../tigase/xmpp/BareJID.html" title="class in tigase.xmpp">BareJID</a>&nbsp;from,
            <a href="../../../tigase/xmpp/BareJID.html" title="class in tigase.xmpp">BareJID</a>&nbsp;to,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
            <a href="../../../tigase/xml/Element.html" title="class in tigase.xml">Element</a>&nbsp;pres)</code>
<div class="block">Sends Presence stanza from provided parameters without returning created
 result <a href="../../../tigase/server/Packet.html" title="class in tigase.server"><code>Packet</code></a> object.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>static <a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#sendPresence-tigase.xmpp.StanzaType-tigase.xmpp.JID-tigase.xmpp.JID-java.util.Queue-tigase.xml.Element-">sendPresence</a></span>(<a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp">StanzaType</a>&nbsp;t,
            <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;from,
            <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;to,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
            <a href="../../../tigase/xml/Element.html" title="class in tigase.xml">Element</a>&nbsp;pres)</code>
<div class="block">Sends Presence stanza from provided parameters as well as returns created
 result <a href="../../../tigase/server/Packet.html" title="class in tigase.server"><code>Packet</code></a> object.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#sendPresenceBroadcast-tigase.xmpp.StanzaType-tigase.xmpp.XMPPResourceConnection-java.util.EnumSet-java.util.Queue-tigase.xml.Element-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract-">sendPresenceBroadcast</a></span>(<a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp">StanzaType</a>&nbsp;t,
                     <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../tigase/xmpp/impl/roster/RosterAbstract.SubscriptionType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.SubscriptionType</a>&gt;&nbsp;subscrs,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                     <a href="../../../tigase/xml/Element.html" title="class in tigase.xml">Element</a>&nbsp;pres,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                     <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster">RosterAbstract</a>&nbsp;roster_util)</code>
<div class="block"><code>sendPresenceBroadcast</code> method broadcasts given presence to all
 buddies from roster and to all users to which direct presence was sent.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#sendRosterOfflinePresence-tigase.xmpp.XMPPResourceConnection-java.util.Queue-">sendRosterOfflinePresence</a></span>(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results)</code>
<div class="block">Method sends server generated presence unavailable for all buddies from the
 roster with a custom status message.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#stopped-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-">stopped</a></span>(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings)</code>
<div class="block">Performs additional processing upon closing user session (user either
 disconnects or logs-out).</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#supElementNamePaths--">supElementNamePaths</a></span>()</code>
<div class="block">Method <code>supElementNamePaths</code> returns an array of element
 names in form of a full path to the XML element for
 stanzas which can be processed by this plugin.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#supNamespaces--">supNamespaces</a></span>()</code>
<div class="block">Method <code>supNamespaces</code> returns an array of name-spaces for
 stanzas which can be processed by this plugin.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#updateOfflineChange-tigase.xmpp.XMPPResourceConnection-java.util.Queue-">updateOfflineChange</a></span>(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results)</code>
<div class="block"><code>updateOfflineChange</code> method broadcast off-line presence to all
 other user active resources.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#updatePresenceChange-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-">updatePresenceChange</a></span>(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;presence,
                    <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results)</code>
<div class="block"><code>updatePresenceChange</code> method is used to broadcast to all active
 resources presence stanza received from other users, like incoming
 availability presence, subscription presence and so on...</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>protected static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#updateResourcesAvailable-tigase.xmpp.XMPPResourceConnection-tigase.xmpp.StanzaType-tigase.server.Packet-">updateResourcesAvailable</a></span>(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                        <a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp">StanzaType</a>&nbsp;type,
                        <a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet)</code>
<div class="block">Method updates resources information upon receiving initial availability
 presence (type available or missing type)</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tigase/xmpp/impl/Presence.html#updateUserResources-tigase.xml.Element-tigase.xmpp.XMPPResourceConnection-java.util.Queue-boolean-">updateUserResources</a></span>(<a href="../../../tigase/xml/Element.html" title="class in tigase.xml">Element</a>&nbsp;presence,
                   <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                   boolean&nbsp;initial)</code>
<div class="block"><code>updateUserResources</code> method is used to broadcast to all
 <strong>other</strong> resources presence stanza from one user resource.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.tigase.xmpp.XMPPProcessor">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;tigase.xmpp.<a href="../../../tigase/xmpp/XMPPProcessor.html" title="class in tigase.xmpp">XMPPProcessor</a></h3>
<code><a href="../../../tigase/xmpp/XMPPProcessor.html#canHandle-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-">canHandle</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#compareTo-tigase.xmpp.XMPPImplIfc-">compareTo</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#concurrentThreadsPerQueue--">concurrentThreadsPerQueue</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#getComponentInfo--">getComponentInfo</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#getInstance--">getInstance</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#isSupporting-java.lang.String-java.lang.String-">isSupporting</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#supDiscoFeatures-tigase.xmpp.XMPPResourceConnection-">supDiscoFeatures</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#supElements--">supElements</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#supStreamFeatures-tigase.xmpp.XMPPResourceConnection-">supStreamFeatures</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#supTypes--">supTypes</a>, <a href="../../../tigase/xmpp/XMPPProcessor.html#toString--">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.tigase.xmpp.XMPPImplIfc">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;tigase.xmpp.<a href="../../../tigase/xmpp/XMPPImplIfc.html" title="interface in tigase.xmpp">XMPPImplIfc</a></h3>
<code><a href="../../../tigase/xmpp/XMPPImplIfc.html#canHandle-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-">canHandle</a>, <a href="../../../tigase/xmpp/XMPPImplIfc.html#concurrentThreadsPerQueue--">concurrentThreadsPerQueue</a>, <a href="../../../tigase/xmpp/XMPPImplIfc.html#getComponentInfo--">getComponentInfo</a>, <a href="../../../tigase/xmpp/XMPPImplIfc.html#isSupporting-java.lang.String-java.lang.String-">isSupporting</a>, <a href="../../../tigase/xmpp/XMPPImplIfc.html#supDiscoFeatures-tigase.xmpp.XMPPResourceConnection-">supDiscoFeatures</a>, <a href="../../../tigase/xmpp/XMPPImplIfc.html#supElements--">supElements</a>, <a href="../../../tigase/xmpp/XMPPImplIfc.html#supStreamFeatures-tigase.xmpp.XMPPResourceConnection-">supStreamFeatures</a>, <a href="../../../tigase/xmpp/XMPPImplIfc.html#supTypes--">supTypes</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Comparable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html?is-external=true#compareTo-T-" title="class or interface in java.lang">compareTo</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="AUTO_AUTHORIZE_PROP_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AUTO_AUTHORIZE_PROP_KEY</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> AUTO_AUTHORIZE_PROP_KEY</pre>
<div class="block">key allowing enabling automatic authorisation.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.AUTO_AUTHORIZE_PROP_KEY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DIRECT_PRESENCE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DIRECT_PRESENCE</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> DIRECT_PRESENCE</pre>
<div class="block"><code>DIRECT_PRESENCE</code> is a key in temporary session data for the
 collection of JIDs where direct presence was sent. To all these addresses
 unavailable presence must be sent when user disconnects.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.DIRECT_PRESENCE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DISABLE_ROSTER_LAZY_LOADING_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DISABLE_ROSTER_LAZY_LOADING_KEY</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> DISABLE_ROSTER_LAZY_LOADING_KEY</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.DISABLE_ROSTER_LAZY_LOADING_KEY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="EXTENDED_PRESENCE_PROCESSORS_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EXTENDED_PRESENCE_PROCESSORS_KEY</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> EXTENDED_PRESENCE_PROCESSORS_KEY</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.EXTENDED_PRESENCE_PROCESSORS_KEY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="OFFLINE_BUD_SENT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OFFLINE_BUD_SENT</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> OFFLINE_BUD_SENT</pre>
<div class="block">Field description</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.OFFLINE_BUD_SENT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="OFFLINE_RES_SENT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OFFLINE_RES_SENT</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> OFFLINE_RES_SENT</pre>
<div class="block">Field description</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.OFFLINE_RES_SENT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="OFFLINE_ROSTER_LAST_SEEN_PROP_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OFFLINE_ROSTER_LAST_SEEN_PROP_KEY</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> OFFLINE_ROSTER_LAST_SEEN_PROP_KEY</pre>
<div class="block">Field description</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.OFFLINE_ROSTER_LAST_SEEN_PROP_KEY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PRESENCE_ELEMENT_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PRESENCE_ELEMENT_NAME</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> PRESENCE_ELEMENT_NAME</pre>
<div class="block">Field description</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.PRESENCE_ELEMENT_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PRESENCE_GLOBAL_FORWARD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PRESENCE_GLOBAL_FORWARD</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> PRESENCE_GLOBAL_FORWARD</pre>
<div class="block">key allowing setting global forwarding JID address.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.PRESENCE_GLOBAL_FORWARD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SKIP_OFFLINE_PROP_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SKIP_OFFLINE_PROP_KEY</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> SKIP_OFFLINE_PROP_KEY</pre>
<div class="block">Field description</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.SKIP_OFFLINE_PROP_KEY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SKIP_OFFLINE_SYS_PROP_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SKIP_OFFLINE_SYS_PROP_KEY</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> SKIP_OFFLINE_SYS_PROP_KEY</pre>
<div class="block">Field description</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.SKIP_OFFLINE_SYS_PROP_KEY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="USERS_STATUS_CHANGES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>USERS_STATUS_CHANGES</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> USERS_STATUS_CHANGES</pre>
<div class="block">Field description</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.USERS_STATUS_CHANGES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="XMLNS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>XMLNS</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> XMLNS</pre>
<div class="block">Field description</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#tigase.xmpp.impl.Presence.XMLNS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="roster_util">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>roster_util</h4>
<pre>protected&nbsp;<a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster">RosterAbstract</a> roster_util</pre>
<div class="block">Field description</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Presence--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Presence</h4>
<pre>public&nbsp;Presence()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addDirectPresenceJID-tigase.xmpp.JID-tigase.xmpp.XMPPResourceConnection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDirectPresenceJID</h4>
<pre>public static&nbsp;void&nbsp;addDirectPresenceJID(<a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;jid,
                                        <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session)</pre>
<div class="block">Add JID to collection of JIDs to which direct presence was sent. To all
 these addresses unavailable presence must be sent when user disconnects.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jid</code> - to which direct presence was sent.</dd>
<dd><code>session</code> - user session which keeps all the user session data and also
                gives an access to the user's repository data.</dd>
</dl>
</li>
</ul>
<a name="broadcastOffline-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>broadcastOffline</h4>
<pre>public static&nbsp;void&nbsp;broadcastOffline(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                                    <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster">RosterAbstract</a>&nbsp;roster_util)
                             throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                    <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></pre>
<div class="block"><code>sendPresenceBroadcast</code> method broadcasts given presence to all
 buddies from roster and to all users to which direct presence was sent.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - user session which keeps all the user session data and
                    also gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated
                    as input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                    Tigase server configuration.</dd>
<dd><code>roster_util</code> - instance of class implementing <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster"><code>RosterAbstract</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code> - if an error occurs</dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="broadcastProbe-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>broadcastProbe</h4>
<pre>public&nbsp;void&nbsp;broadcastProbe(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                           <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                           <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings)
                    throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                           <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></pre>
<div class="block"><code>sendPresenceBroadcast</code> method broadcasts given presence to all
 buddies from roster and to all users to which direct presence was sent.
 Before sending presence method calls <code>requiresPresenceSending()</code>,
 configured to only check local environment status (if enabled) to verify
 whether presence needs to be sent.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - user session which keeps all the user session data and also
                 gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                 input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                 Tigase server configuration.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code> - if an error occurs</dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="concurrentQueuesNo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>concurrentQueuesNo</h4>
<pre>public&nbsp;int&nbsp;concurrentQueuesNo()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html#concurrentQueuesNo--">XMPPImplIfc</a></code></span></div>
<div class="block">Methods returns a preferable number of threads/packets queues for the plugin.
 This number can be overwritten through configuration settings, however, a default
 value should be reasonably good for most standard installations.
 It is recommended to assign at least as much as twice a number of CPUs cores for I/O
 bound processing and number a number equal to CPUs cores for fast processing not
 slowed down by any I/O.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPImplIfc.html#concurrentQueuesNo--">concurrentQueuesNo</a></code>&nbsp;in interface&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html" title="interface in tigase.xmpp">XMPPImplIfc</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an integer preferred number of processing threads for the plugin.</dd>
</dl>
</li>
</ul>
<a name="id--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>id</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html#id--">XMPPImplIfc</a></code></span></div>
<div class="block">Method <code>id</code> returns a unique ID of the plugin. Each plugin has
 own, unique ID which is used in the configuration file to determine whether
 it needs to be loaded or not. In most cases the ID can be equal to XMLNS of
 the packages processed by the plugin.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPImplIfc.html#id--">id</a></code>&nbsp;in interface&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html" title="interface in tigase.xmpp">XMPPImplIfc</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>String</code> value</dd>
</dl>
</li>
</ul>
<a name="init-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings)
          throws <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html#init-java.util.Map-">XMPPImplIfc</a></code></span></div>
<div class="block">Method <code>init</code> is called just after the plugin has been loaded
 into memory. The idea behind this is to allow it to initialize or check the
 database. This might be especially useful for plugins which want to have a
 database access via non-standard stored procedures or need schema upgrade.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPImplIfc.html#init-java.util.Map-">init</a></code>&nbsp;in interface&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html" title="interface in tigase.xmpp">XMPPImplIfc</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPProcessor.html#init-java.util.Map-">init</a></code>&nbsp;in class&nbsp;<code><a href="../../../tigase/xmpp/XMPPProcessor.html" title="class in tigase.xmpp">XMPPProcessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>settings</code> - is a Map with initial processor settings from the configuration
          file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="process-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-tigase.db.NonAuthUserRepository-java.util.Queue-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>process</h4>
<pre>public&nbsp;void&nbsp;process(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                    <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                    <a href="../../../tigase/db/NonAuthUserRepository.html" title="interface in tigase.db">NonAuthUserRepository</a>&nbsp;repo,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings)
             throws <a href="../../../tigase/xmpp/XMPPException.html" title="class in tigase.xmpp">XMPPException</a></pre>
<div class="block">

 <br><br>

 Performs processing of <em>presence</em> packets and calls different
 methods for particular <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster"><code>RosterAbstract.PresenceType</code></a></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPProcessorIfc.html#process-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-tigase.db.NonAuthUserRepository-java.util.Queue-java.util.Map-">process</a></code>&nbsp;in interface&nbsp;<code><a href="../../../tigase/xmpp/XMPPProcessorIfc.html" title="interface in tigase.xmpp">XMPPProcessorIfc</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packet</code> - packet is which being processed. This parameter may never
                 be null. Even though this is not immutable object it
                 mustn't be altered. None of it's fields or attributes can
                 be changed during processing.</dd>
<dd><code>session</code> - user session which keeps all the user session data and also
                 gives an access to the user's repository data. It allows
                 for storing information in a permanent storage or in memory
                 only during the live of the online session. This parameter
                 can be null if there is no online user session at the time
                 of the packet processing.</dd>
<dd><code>repo</code> - this is a user data storage which is normally used when the
                 user session (parameter above) is null. This is repository
                 allows for a very restricted access only. It allows for
                 storing some user private data (doesn't allow overwriting
                 existing data) like messages for offline users and it also
                 allows for reading user public data like VCard.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                 input packet processing results. Regardless a response to a
                 user request is sent or the packet is forwarded to it's
                 destination it is always required that a copy of the input
                 packet is created and stored in the results queue.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                 Tigase server configuration. In most cases it is unused,
                 however if the plugin needs to access an external database
                 that this is a way to pass database connection string to
                 the plugin.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPException.html" title="class in tigase.xmpp">XMPPException</a></code></dd>
</dl>
</li>
</ul>
<a name="removeDirectPresenceJID-tigase.xmpp.JID-tigase.xmpp.XMPPResourceConnection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeDirectPresenceJID</h4>
<pre>public static&nbsp;void&nbsp;removeDirectPresenceJID(<a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;jid,
                                           <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session)</pre>
<div class="block">Remove JID from collection of JIDs to which direct presence was sent.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jid</code> - to which direct presence was sent.</dd>
<dd><code>session</code> - user session which keeps all the user session data and also
                gives an access to the user's repository data.</dd>
</dl>
</li>
</ul>
<a name="resendPendingInRequests-tigase.xmpp.XMPPResourceConnection-java.util.Queue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resendPendingInRequests</h4>
<pre>public&nbsp;void&nbsp;resendPendingInRequests(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results)
                             throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                    <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></pre>
<div class="block">Sends out all pending subscription request during user log-in.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - user session which keeps all the user session data and also
                gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                input packet processing results.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="sendPresence-tigase.xmpp.StanzaType-tigase.xmpp.BareJID-tigase.xmpp.BareJID-java.util.Queue-tigase.xml.Element-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendPresence</h4>
<pre>public static&nbsp;void&nbsp;sendPresence(<a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp">StanzaType</a>&nbsp;t,
                                <a href="../../../tigase/xmpp/BareJID.html" title="class in tigase.xmpp">BareJID</a>&nbsp;from,
                                <a href="../../../tigase/xmpp/BareJID.html" title="class in tigase.xmpp">BareJID</a>&nbsp;to,
                                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                <a href="../../../tigase/xml/Element.html" title="class in tigase.xml">Element</a>&nbsp;pres)</pre>
<div class="block">Sends Presence stanza from provided parameters without returning created
 result <a href="../../../tigase/server/Packet.html" title="class in tigase.server"><code>Packet</code></a> object. In case of missing <code>pres</code> parameter a
 Presence stanza will be created with provided <a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp"><code>StanzaType</code></a> type
 <code>t</code>, <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp"><code>JID</code></a> type <code>from</code> and <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp"><code>JID</code></a> type <code>to</code>.
 Otherwise Presence stanza <code>pres</code> will be cloned and <code>to</code>
 attribute will be set from parameter <code>to</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - specifies type of the presence to be send.</dd>
<dd><code>from</code> - is a <code>JID</code> instance with stanza source address.</dd>
<dd><code>to</code> - is a <code>JID</code> instance with stanza destination
                address.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                input packet processing results.</dd>
<dd><code>pres</code> - an Object of type <a href="../../../tigase/xml/Element.html" title="class in tigase.xml"><code>Element</code></a> holding Presence stanza to
                be sent.</dd>
</dl>
</li>
</ul>
<a name="sendPresence-tigase.xmpp.StanzaType-tigase.xmpp.JID-tigase.xmpp.JID-java.util.Queue-tigase.xml.Element-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendPresence</h4>
<pre>public static&nbsp;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;sendPresence(<a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp">StanzaType</a>&nbsp;t,
                                  <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;from,
                                  <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;to,
                                  <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                  <a href="../../../tigase/xml/Element.html" title="class in tigase.xml">Element</a>&nbsp;pres)</pre>
<div class="block">Sends Presence stanza from provided parameters as well as returns created
 result <a href="../../../tigase/server/Packet.html" title="class in tigase.server"><code>Packet</code></a> object. In case of missing <code>pres</code> parameter a
 Presence stanza will be created with provided <a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp"><code>StanzaType</code></a> type
 <code>t</code>, <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp"><code>JID</code></a> type <code>from</code> and <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp"><code>JID</code></a> type <code>to</code>.
 Otherwise Presence stanza <code>pres</code> will be cloned and <code>to</code>
 attribute will be set from parameter <code>to</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - specifies type of the presence to be send.</dd>
<dd><code>from</code> - is a <code>JID</code> instance with stanza source address.</dd>
<dd><code>to</code> - is a <code>JID</code> instance with stanza destination
                address.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                input packet processing results.</dd>
<dd><code>pres</code> - an Object of type <a href="../../../tigase/xml/Element.html" title="class in tigase.xml"><code>Element</code></a> holding Presence stanza to
                be sent.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an instance of<a href="../../../tigase/server/Packet.html" title="class in tigase.server"><code>Packet</code></a> holding Presence stanza created from
         provided parameters.</dd>
</dl>
</li>
</ul>
<a name="sendPresenceBroadcast-tigase.xmpp.StanzaType-tigase.xmpp.XMPPResourceConnection-java.util.EnumSet-java.util.Queue-tigase.xml.Element-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendPresenceBroadcast</h4>
<pre>public static&nbsp;void&nbsp;sendPresenceBroadcast(<a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp">StanzaType</a>&nbsp;t,
                                         <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;<a href="../../../tigase/xmpp/impl/roster/RosterAbstract.SubscriptionType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.SubscriptionType</a>&gt;&nbsp;subscrs,
                                         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                         <a href="../../../tigase/xml/Element.html" title="class in tigase.xml">Element</a>&nbsp;pres,
                                         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                                         <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster">RosterAbstract</a>&nbsp;roster_util)
                                  throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                         <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></pre>
<div class="block"><code>sendPresenceBroadcast</code> method broadcasts given presence to all
 buddies from roster and to all users to which direct presence was sent.
 Before sending presence method calls <code>requiresPresenceSending()</code>
 performing, if configured, both system and roster check to verify whether
 presence needs to be sent.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - specifies type of the presence to be send.</dd>
<dd><code>session</code> - user session which keeps all the user session data and
                    also gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated
                    as input packet processing results.</dd>
<dd><code>subscrs</code> - an <code>EnumSet&lt;SubscriptionType&gt;</code> holding all
                    <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.SubscriptionType.html" title="enum in tigase.xmpp.impl.roster"><code>RosterAbstract.SubscriptionType</code></a> to which a Presence should be
                    broadcast.</dd>
<dd><code>pres</code> - an Object of type <a href="../../../tigase/xml/Element.html" title="class in tigase.xml"><code>Element</code></a> holding Presence
                    stanza to be sent.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                    Tigase server configuration.</dd>
<dd><code>roster_util</code> - instance of class implementing <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster"><code>RosterAbstract</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code> - if an error occurs</dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="stopped-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopped</h4>
<pre>public&nbsp;void&nbsp;stopped(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../tigase/xmpp/XMPPStopListenerIfc.html#stopped-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-">XMPPStopListenerIfc</a></code></span></div>
<div class="block">Performs additional processing upon closing user session (user either
 disconnects or logs-out).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPStopListenerIfc.html#stopped-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-">stopped</a></code>&nbsp;in interface&nbsp;<code><a href="../../../tigase/xmpp/XMPPStopListenerIfc.html" title="interface in tigase.xmpp">XMPPStopListenerIfc</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - user session which keeps all the user session data and also
                 gives an access to the user's repository data. It allows
                 for storing information in a permanent storage or in memory
                 only during the live of the online session. This parameter
                 can be null if there is no online user session at the time
                 of the packet processing.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                 input packet processing results. Regardless a response to a
                 user request is sent or the packet is forwarded to it's
                 destination it is always required that a copy of the input
                 packet is created and stored in the results queue.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                 Tigase server configuration. In most cases it is unused,
                 however if the plugin needs to access an external database
                 that this is a way to pass database connection string to
                 the plugin.</dd>
</dl>
</li>
</ul>
<a name="supElementNamePaths--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supElementNamePaths</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[][]&nbsp;supElementNamePaths()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html#supElementNamePaths--">XMPPImplIfc</a></code></span></div>
<div class="block">Method <code>supElementNamePaths</code> returns an array of element
 names in form of a full path to the XML element for
 stanzas which can be processed by this plugin. Each element name path
 corresponds to XMLNS returned in array by <code>supNamespaces()</code>
 method. The element path itself is represented by a String array with each path
 element as a separate String.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPImplIfc.html#supElementNamePaths--">supElementNamePaths</a></code>&nbsp;in interface&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html" title="interface in tigase.xmpp">XMPPImplIfc</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPProcessor.html#supElementNamePaths--">supElementNamePaths</a></code>&nbsp;in class&nbsp;<code><a href="../../../tigase/xmpp/XMPPProcessor.html" title="class in tigase.xmpp">XMPPProcessor</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>String[][]</code> value is an array for element paths for which
 the plugin offers processing capabilities. Each path is in form of a String array
 in order to reduce parsing overhead.</dd>
</dl>
</li>
</ul>
<a name="supNamespaces--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supNamespaces</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;supNamespaces()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html#supNamespaces--">XMPPImplIfc</a></code></span></div>
<div class="block">Method <code>supNamespaces</code> returns an array of name-spaces for
 stanzas which can be processed by this plugin. Each namespace
 corresponds to element name returned in array by
 <code>supElemenets()</code> method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPImplIfc.html#supNamespaces--">supNamespaces</a></code>&nbsp;in interface&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html" title="interface in tigase.xmpp">XMPPImplIfc</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPProcessor.html#supNamespaces--">supNamespaces</a></code>&nbsp;in class&nbsp;<code><a href="../../../tigase/xmpp/XMPPProcessor.html" title="class in tigase.xmpp">XMPPProcessor</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>String[]</code> value</dd>
</dl>
</li>
</ul>
<a name="rebroadcastPresence-tigase.xmpp.XMPPResourceConnection-java.util.Queue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rebroadcastPresence</h4>
<pre>public static&nbsp;void&nbsp;rebroadcastPresence(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results)
                                throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                       <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="updatePresenceChange-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updatePresenceChange</h4>
<pre>public static&nbsp;void&nbsp;updatePresenceChange(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;presence,
                                        <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results)
                                 throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></pre>
<div class="block"><code>updatePresenceChange</code> method is used to broadcast to all active
 resources presence stanza received from other users, like incoming
 availability presence, subscription presence and so on... Initial presences
 are however sent only to those resources which already have sent initial
 presence.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>presence</code> - an <code>Element</code> presence received from other users,
                 we have to change 'to' attribute to full resource JID.</dd>
<dd><code>session</code> - user session which keeps all the user session data and also
                 gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                 input packet processing results.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code> - if an error occurs</dd>
</dl>
</li>
</ul>
<a name="updateUserResources-tigase.xml.Element-tigase.xmpp.XMPPResourceConnection-java.util.Queue-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateUserResources</h4>
<pre>public static&nbsp;void&nbsp;updateUserResources(<a href="../../../tigase/xml/Element.html" title="class in tigase.xml">Element</a>&nbsp;presence,
                                       <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                       boolean&nbsp;initial)
                                throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></pre>
<div class="block"><code>updateUserResources</code> method is used to broadcast to all
 <strong>other</strong> resources presence stanza from one user resource. So
 if new resource connects this method updates presence information about new
 resource to old resources and about old resources to new resource.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>presence</code> - an <code>Element</code> presence received from other users,
                 we have to change 'to' attribute to full resource JID.</dd>
<dd><code>session</code> - user session which keeps all the user session data and also
                 gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                 input packet processing results.</dd>
<dd><code>initial</code> - specifies whether this is an initial presence or not (i.e.
                 if there is a presence data from the presence stored within
                 user session object or not)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code> - if an error occurs</dd>
</dl>
</li>
</ul>
<a name="getStatistics-tigase.stats.StatisticsList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatistics</h4>
<pre>public&nbsp;void&nbsp;getStatistics(<a href="../../../tigase/stats/StatisticsList.html" title="class in tigase.stats">StatisticsList</a>&nbsp;list)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html#getStatistics-tigase.stats.StatisticsList-">XMPPImplIfc</a></code></span></div>
<div class="block">The method allows to retrieve plugin own statistics if it generates any.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPImplIfc.html#getStatistics-tigase.stats.StatisticsList-">getStatistics</a></code>&nbsp;in interface&nbsp;<code><a href="../../../tigase/xmpp/XMPPImplIfc.html" title="interface in tigase.xmpp">XMPPImplIfc</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../tigase/xmpp/XMPPProcessor.html#getStatistics-tigase.stats.StatisticsList-">getStatistics</a></code>&nbsp;in class&nbsp;<code><a href="../../../tigase/xmpp/XMPPProcessor.html" title="class in tigase.xmpp">XMPPProcessor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>list</code> - is a statistics collection to which plugins own metrics can be added.</dd>
</dl>
</li>
</ul>
<a name="broadcastDirectPresences-tigase.xmpp.StanzaType-tigase.xmpp.XMPPResourceConnection-java.util.Queue-tigase.xml.Element-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>broadcastDirectPresences</h4>
<pre>protected static&nbsp;void&nbsp;broadcastDirectPresences(<a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp">StanzaType</a>&nbsp;t,
                                               <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                               <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                               <a href="../../../tigase/xml/Element.html" title="class in tigase.xml">Element</a>&nbsp;pres)
                                        throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                               <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></pre>
<div class="block"><code>broadcastDirectPresences</code> broadcast a direct Presence from provided
 <code>pres</code> <a href="../../../tigase/xml/Element.html" title="class in tigase.xml"><code>Element</code></a> object to the collection of JIDs stored in
 temporary session data under key <code>DIRECT_PRESENCE</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - specifies type of the presence to be send.</dd>
<dd><code>session</code> - user session which keeps all the user session data and also
                gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                input packet processing results.</dd>
<dd><code>pres</code> - an Object of type <a href="../../../tigase/xml/Element.html" title="class in tigase.xml"><code>Element</code></a> holding Presence stanza to
                be sent.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="buddyOnline-tigase.xmpp.XMPPResourceConnection-tigase.xmpp.JID-java.util.Queue-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buddyOnline</h4>
<pre>protected&nbsp;void&nbsp;buddyOnline(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                           <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;buddy,
                           <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                           boolean&nbsp;online)
                    throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                           <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></pre>
<div class="block">Method sends back presence to contact while it becomes online (i.e. during
 processing of incoming initial presence of the contact/buddy)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - user session which keeps all the user session data and also
                gives an access to the user's repository data.</dd>
<dd><code>buddy</code> - <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp"><code>JID</code></a> of a roster element for which an online state
                will be set</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                input packet processing results.</dd>
<dd><code>online</code> - set whether given contact is online or offline</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="forwardPresence-java.util.Queue-tigase.server.Packet-tigase.xmpp.JID-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forwardPresence</h4>
<pre>protected static&nbsp;void&nbsp;forwardPresence(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                      <a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                                      <a href="../../../tigase/xmpp/JID.html" title="class in tigase.xmpp">JID</a>&nbsp;from)</pre>
<div class="block">Simply forwards packet to the destination</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>results</code> - this a collection with packets which have been generated as
                input packet processing results.</dd>
<dd><code>packet</code> - to forward</dd>
<dd><code>from</code> - is a <code>JID</code> instance with stanza source address.</dd>
</dl>
</li>
</ul>
<a name="processError-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processError</h4>
<pre>protected&nbsp;void&nbsp;processError(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                            <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                            <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;presenceType)
                     throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                            <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a>,
                            <a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a></pre>
<div class="block">Process presence stanza of type Error. Allows errors sent from server to
 user and ignore presence errors sent from the user.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packet</code> - packet is which being processed.</dd>
<dd><code>session</code> - user session which keeps all the user session data and
                     also gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been
                     generated as input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                     Tigase server configuration.</dd>
<dd><code>presenceType</code> - specifies type of the presence</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a></code></dd>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="processInInitial-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processInInitial</h4>
<pre>protected&nbsp;void&nbsp;processInInitial(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                                <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                                <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;presenceType)
                         throws <a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a>,
                                <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></pre>
<div class="block">Method is responsible for processing incoming initial presence (i.e. in the
 receivers session manager).
 <p>
 It validates the packet (whether from is present or if it's a direct
 presence to existing resource) and subsequently set received presence for
 the contact that sent it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packet</code> - packet is which being processed.</dd>
<dd><code>session</code> - user session which keeps all the user session data and
                     also gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been
                     generated as input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                     Tigase server configuration.</dd>
<dd><code>presenceType</code> - specifies type of the presence.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a></code></dd>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="processInProbe-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processInProbe</h4>
<pre>protected&nbsp;void&nbsp;processInProbe(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                              <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                              <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;presenceType)
                       throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                              <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a>,
                              <a href="../../../tigase/xmpp/PacketErrorTypeException.html" title="class in tigase.xmpp">PacketErrorTypeException</a></pre>
<div class="block">Method is responsible for processing incoming presence probe (i.e. in the
 receivers session manager).
 <p>
 It validates whether the packet comes from a contact that has correct
 subscription and responds with presence of all user's resources presences.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packet</code> - packet is which being processed.</dd>
<dd><code>session</code> - user session which keeps all the user session data and
                     also gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been
                     generated as input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                     Tigase server configuration.</dd>
<dd><code>presenceType</code> - specifies type of the presence.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/xmpp/PacketErrorTypeException.html" title="class in tigase.xmpp">PacketErrorTypeException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="processInSubscribe-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processInSubscribe</h4>
<pre>protected&nbsp;void&nbsp;processInSubscribe(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                                  <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                  <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                  <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                                  <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)
                           throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                  <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a>,
                                  <a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a>,
                                  <a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></pre>
<div class="block">Method is responsible for processing incoming subscription request (i.e. in
 the receivers session manager).
 <p>
 If the contact is already subscribed the an auto-reply with
 type='subscribded' is sent, otherwise contact is added to the roster (if
 it's missing/there is no current subscription), sets the subscription type
 to <code>PresenceType.in_subscribe</code> and subsequently broadcast presence
 update to all connected resources.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packet</code> - packet is which being processed.</dd>
<dd><code>session</code> - user session which keeps all the user session data and
                  also gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated
                  as input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                  Tigase server configuration.</dd>
<dd><code>pres_type</code> - specifies type of the presence.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a></code></dd>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
<dd><code><a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></code></dd>
</dl>
</li>
</ul>
<a name="processInSubscribed-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processInSubscribed</h4>
<pre>protected&nbsp;void&nbsp;processInSubscribed(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                                   <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                                   <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)
                            throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                   <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a>,
                                   <a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a>,
                                   <a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></pre>
<div class="block">Method is responsible for processing incoming subscribed presence (i.e. in
 the receivers session manager).
 <p>
 Contact is added to the roster (if it's missing/there is no current
 subscription), sets the subscription type to
 <code>PresenceType.in_subscribed</code> and subsequently, if subscription has
 changed,forwards the presence to user resource connection as well as
 broadcast presence update to all connected resources.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packet</code> - packet is which being processed.</dd>
<dd><code>session</code> - user session which keeps all the user session data and
                  also gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated
                  as input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                  Tigase server configuration.</dd>
<dd><code>pres_type</code> - specifies type of the presence.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a></code></dd>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
<dd><code><a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></code></dd>
</dl>
</li>
</ul>
<a name="processInUnsubscribe-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processInUnsubscribe</h4>
<pre>protected&nbsp;void&nbsp;processInUnsubscribe(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                                    <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                                    <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)
                             throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                    <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a>,
                                    <a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a>,
                                    <a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></pre>
<div class="block">Method is responsible for processing incoming unsubscribe presence (i.e. in
 the receivers session manager).
 <p>
 First method performs update of subscription of the given contact and
 subsequently the request is forwarded to the client to make sure it says in
 synch with the server (in case there was actual change in subscription).
 Lastly a roster push is generated to all connected resources to update them
 with current state of the roster and items subscriptions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packet</code> - packet is which being processed.</dd>
<dd><code>session</code> - user session which keeps all the user session data and
                  also gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated
                  as input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                  Tigase server configuration.</dd>
<dd><code>pres_type</code> - specifies type of the presence.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a></code></dd>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
<dd><code><a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></code></dd>
</dl>
</li>
</ul>
<a name="processInUnsubscribed-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processInUnsubscribed</h4>
<pre>protected&nbsp;void&nbsp;processInUnsubscribed(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                                     <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                                     <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)
                              throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                     <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a>,
                                     <a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a>,
                                     <a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></pre>
<div class="block">Method is responsible for processing incoming unsubscribed presence (i.e.
 in the receivers session manager).
 <p>
 First method checks for the current subscription of the contact and if this
 verifies performs subsequent actions such as forwarding presence to the
 user connection to make sure it says in synch with the server, updates
 contact subscription with <code>PresenceType.in_unsubscribed</code> and in case
 that there was a change in user subscription send out a roster push to all
 connected resources to update them with current state of the roster and
 items subscriptions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packet</code> - packet is which being processed.</dd>
<dd><code>session</code> - user session which keeps all the user session data and
                  also gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated
                  as input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                  Tigase server configuration.</dd>
<dd><code>pres_type</code> - specifies type of the presence.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a></code></dd>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
<dd><code><a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></code></dd>
</dl>
</li>
</ul>
<a name="processOutInitial-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processOutInitial</h4>
<pre>protected&nbsp;void&nbsp;processOutInitial(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                                 <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                                 <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;type)
                          throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                 <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></pre>
<div class="block">Method is responsible for processing outgoing initial presence (i.e. in the
 sender session manager).
 <p>
 Process packet accordingly whether it's a direct presence (forward it, add
 to proper collection of JIDs to which a direct presence has been sent) or
 regular presence. THe latter causes properly address the packet, store
 presence within session data for subsequent use, and for the first
 availability presence (in case there is no prior presence stored in user
 session data) server sends probes to all contacts and pushes out all
 pending subscription request or (if there i already presence stored in
 session data) broadcast presence update to contacts.
 <p>
 If there is a JID forwarding set up, presence is also forwarded to
 configured JID.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packet</code> - packet is which being processed.</dd>
<dd><code>session</code> - user session which keeps all the user session data and also
                 gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                 input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                 Tigase server configuration.</dd>
<dd><code>type</code> - specifies type of the presence.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
</dl>
</li>
</ul>
<a name="processOutSubscribe-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processOutSubscribe</h4>
<pre>protected&nbsp;void&nbsp;processOutSubscribe(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                                   <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                                   <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)
                            throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                   <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a>,
                                   <a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a>,
                                   <a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></pre>
<div class="block">Method is responsible for processing outgoing subscribe and unsubscribe
 presence (i.e. in the sender session manager).
 <p>
 Presence packet is forwarded to the destination with the JID stripped from
 the resource.
 <p>In case of <code>PresenceType.out_subscribe</code> packet type contact is
 added to the roster (in case it was missing), a subscription state is being
 updated and, in case there was a change, a roster push is being sent to all
 user resources.
 <p>
 In case of <code>PresenceType.out_unsubscribe</code> method updates contact
 subscription (and generates roster push if there was a change) and if the
 resulting contact subscription is NONE then contact is removed from the
 roster.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packet</code> - packet is which being processed.</dd>
<dd><code>session</code> - user session which keeps all the user session data and
                  also gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated
                  as input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                  Tigase server configuration.</dd>
<dd><code>pres_type</code> - specifies type of the presence.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a></code></dd>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
<dd><code><a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></code></dd>
</dl>
</li>
</ul>
<a name="processOutSubscribed-tigase.server.Packet-tigase.xmpp.XMPPResourceConnection-java.util.Queue-java.util.Map-tigase.xmpp.impl.roster.RosterAbstract.PresenceType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processOutSubscribed</h4>
<pre>protected&nbsp;void&nbsp;processOutSubscribed(<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet,
                                    <a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;settings,
                                    <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.PresenceType.html" title="enum in tigase.xmpp.impl.roster">RosterAbstract.PresenceType</a>&nbsp;pres_type)
                             throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                    <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a>,
                                    <a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a>,
                                    <a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></pre>
<div class="block">Method is responsible for processing outgoing subscribed and unsubscribed
 presence (i.e. in the sender session manager).
 <p>
 Presence packet is forwarded to the destination with the JID stripped from
 the resource, a subscription state is being updated and, in case there was
 a change, a roster push is being sent to all user resources. Also, in case
 of presence type out_subscribed server send current presence to the user
 from each of the contact's available resources. For the presence type
 out_unsubscribed an unavailable presence is sent.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>packet</code> - packet is which being processed.</dd>
<dd><code>session</code> - user session which keeps all the user session data and
                  also gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated
                  as input packet processing results.</dd>
<dd><code>settings</code> - this map keeps plugin specific settings loaded from the
                  Tigase server configuration.</dd>
<dd><code>pres_type</code> - specifies type of the presence.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a></code></dd>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
<dd><code><a href="../../../tigase/server/PolicyViolationException.html" title="class in tigase.server">PolicyViolationException</a></code></dd>
</dl>
</li>
</ul>
<a name="sendRosterOfflinePresence-tigase.xmpp.XMPPResourceConnection-java.util.Queue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendRosterOfflinePresence</h4>
<pre>protected&nbsp;void&nbsp;sendRosterOfflinePresence(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results)
                                  throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a>,
                                         <a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a>,
                                         <a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a></pre>
<div class="block">Method sends server generated presence unavailable for all buddies from the
 roster with a custom status message.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - user session which keeps all the user session data and also
                gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                input packet processing results.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/db/TigaseDBException.html" title="class in tigase.db">TigaseDBException</a></code></dd>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code></dd>
<dd><code><a href="../../../tigase/xmpp/NoConnectionIdException.html" title="class in tigase.xmpp">NoConnectionIdException</a></code></dd>
</dl>
</li>
</ul>
<a name="updateOfflineChange-tigase.xmpp.XMPPResourceConnection-java.util.Queue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateOfflineChange</h4>
<pre>protected static&nbsp;void&nbsp;updateOfflineChange(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                          <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&gt;&nbsp;results)
                                   throws <a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></pre>
<div class="block"><code>updateOfflineChange</code> method broadcast off-line presence to all
 other user active resources.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - user session which keeps all the user session data and also
                gives an access to the user's repository data.</dd>
<dd><code>results</code> - this a collection with packets which have been generated as
                input packet processing results.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tigase/xmpp/NotAuthorizedException.html" title="class in tigase.xmpp">NotAuthorizedException</a></code> - if an error occurs</dd>
</dl>
</li>
</ul>
<a name="updateResourcesAvailable-tigase.xmpp.XMPPResourceConnection-tigase.xmpp.StanzaType-tigase.server.Packet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateResourcesAvailable</h4>
<pre>protected static&nbsp;void&nbsp;updateResourcesAvailable(<a href="../../../tigase/xmpp/XMPPResourceConnection.html" title="class in tigase.xmpp">XMPPResourceConnection</a>&nbsp;session,
                                               <a href="../../../tigase/xmpp/StanzaType.html" title="enum in tigase.xmpp">StanzaType</a>&nbsp;type,
                                               <a href="../../../tigase/server/Packet.html" title="class in tigase.server">Packet</a>&nbsp;packet)</pre>
<div class="block">Method updates resources information upon receiving initial availability
 presence (type available or missing type)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - user session which keeps all the user session data and also
                gives an access to the user's repository data.</dd>
<dd><code>type</code> - specifies type of the stanza.</dd>
<dd><code>packet</code> - packet is which being processed.</dd>
</dl>
</li>
</ul>
<a name="getRosterUtil--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRosterUtil</h4>
<pre>protected static&nbsp;<a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster">RosterAbstract</a>&nbsp;getRosterUtil()</pre>
<div class="block">Returns shared instance of class implementing <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster"><code>RosterAbstract</code></a> -
 either default one (<a href="../../../tigase/xmpp/impl/roster/RosterFlat.html" title="class in tigase.xmpp.impl.roster"><code>RosterFlat</code></a>) or the one configured with
 <em>"roster-implementation"</em> property.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>shared instance of class implementing <a href="../../../tigase/xmpp/impl/roster/RosterAbstract.html" title="class in tigase.xmpp.impl.roster"><code>RosterAbstract</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Presence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../tigase/xmpp/impl/PepPlugin.html" title="class in tigase.xmpp.impl"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../tigase/xmpp/impl/Presence.ExtendedPresenceProcessorIfc.html" title="interface in tigase.xmpp.impl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?tigase/xmpp/impl/Presence.html" target="_top">Frames</a></li>
<li><a href="Presence.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 <a href="http://www.tigase.org">"Tigase, Inc."</a>. All rights reserved.</small></p>
</body>
</html>
